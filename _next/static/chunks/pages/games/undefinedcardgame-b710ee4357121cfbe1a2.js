(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{1974:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(5893),o=n(809),i=n.n(o),s=n(266),c=n(8216),u=n(5997),l=n(4695),a=n(1077),h=n(8847),f=n(2953),p=n(2809),d=n(7294);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var v=function(t){(0,a.Z)(o,t);var e=y(o);function o(t){var n;return(0,c.Z)(this,o),n=e.call(this,t),(0,p.Z)((0,l.Z)(n),"myRef",void 0),(0,p.Z)((0,l.Z)(n),"canvasRef",void 0),n.myRef=d.createRef(),n.canvasRef=d.createRef(),n}return(0,u.Z)(o,[{key:"componentDidMount",value:function(){var t=(0,s.Z)(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(6).then(n.t.bind(n,4035,23));case 2:e=t.sent,r=new e.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:r});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=(0,s.Z)(i().mark((function t(e){var r,o,s,c,u,l,a,h,f,p,d,y;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.sketch===this.props.sketch){t.next=7;break}return this.state.p5obj.remove(),t.next=4,n.e(6).then(n.t.bind(n,4035,23));case 4:s=t.sent,c=new s.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:c});case 7:this.props.saveRequire&&(null===(u=(l=this.state.p5obj).onSave)||void 0===u||u.call(l),null===(a=(h=this.props).onSaveEnd)||void 0===a||a.call(h)),this.props.restartRequire&&(null===(f=(p=this.state.p5obj).onRestart)||void 0===f||f.call(p),null===(d=(y=this.props).onRestartEnd)||void 0===d||d.call(y)),null===(r=(o=this.state.p5obj).onPropsUpdate)||void 0===r||r.call(o,this.props);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return(0,r.jsxs)("div",{ref:this.myRef,style:{position:"relative"},children:[(0,r.jsx)("div",{ref:this.canvasRef,style:{position:"absolute",zIndex:-1}}),this.props.children]})}}]),o}(d.Component)},2884:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(8216),o=n(5997),i=n(2809),s=function(){function t(){(0,r.Z)(this,t),(0,i.Z)(this,"pressed",!1),(0,i.Z)(this,"onClick",void 0)}return(0,o.Z)(t,[{key:"update",value:function(t){if(t.mouseIsPressed){var e=t.mouseX,n=t.mouseY;this.isInBounds(e,n)&&(this.pressed=!0)}else{if(this.pressed){var r=t.mouseX,o=t.mouseY;this.isInBounds(r,o)&&this.onClick()}this.pressed=!1}}},{key:"setOnClick",value:function(t){this.onClick=t}}]),t}()},1790:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(8216),o=n(5997),i=n(2809),s=function(){function t(){(0,r.Z)(this,t),(0,i.Z)(this,"x",0),(0,i.Z)(this,"y",0),(0,i.Z)(this,"width",0),(0,i.Z)(this,"height",0),(0,i.Z)(this,"text",""),(0,i.Z)(this,"fillColor",null),(0,i.Z)(this,"strokeColor",null),(0,i.Z)(this,"textColor",null)}return(0,o.Z)(t,[{key:"setGeometry",value:function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}},{key:"setStrokeColor",value:function(t){this.strokeColor=t}},{key:"setFillColor",value:function(t){this.fillColor=t}},{key:"setTextColor",value:function(t){this.textColor=t}},{key:"setText",value:function(t){this.text=t}},{key:"update",value:function(t){}},{key:"draw",value:function(t){var e,n,r,o=this.text.split("\n").map((function(t){return t.length})).reduce((function(e,n){return t.max(e,n)})),i=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(n=this.strokeColor)&&void 0!==n?n:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(r=this.textColor)&&void 0!==r?r:t.color(0)),t.textSize(i),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}}]),t}()},3074:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return W}});var r=n(5893),o=n(9008),i=n(1974),s=n(8216),c=n(5997),u=n(4695),l=n(1077),a=n(8847),h=n(2953),f=n(2809);function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.Z)(t);if(e){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(t){(0,l.Z)(n,t);var e=p(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,f.Z)((0,u.Z)(t),"x",0),(0,f.Z)((0,u.Z)(t),"y",0),(0,f.Z)((0,u.Z)(t),"width",0),(0,f.Z)((0,u.Z)(t),"height",0),(0,f.Z)((0,u.Z)(t),"text",""),(0,f.Z)((0,u.Z)(t),"fillColor",null),(0,f.Z)((0,u.Z)(t),"strokeColor",null),(0,f.Z)((0,u.Z)(t),"textColor",null),t}return(0,c.Z)(n,[{key:"isInBounds",value:function(t,e){return this.x<t&&t<this.x+this.width&&this.y<e&&e<this.y+this.height}},{key:"setGeometry",value:function(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}},{key:"setStrokeColor",value:function(t){this.strokeColor=t}},{key:"setFillColor",value:function(t){this.fillColor=t}},{key:"setTextColor",value:function(t){this.textColor=t}},{key:"setText",value:function(t){this.text=t}},{key:"draw",value:function(t){var e,n,r,o=this.text.split("\n").map((function(t){return t.length})).reduce((function(e,n){return t.max(e,n)})),i=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(n=this.strokeColor)&&void 0!==n?n:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(r=this.textColor)&&void 0!==r?r:t.color(0)),t.textSize(i),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}}]),n}(n(2884).Z),y=n(1790),v=function(){function t(){(0,s.Z)(this,t),(0,f.Z)(this,"requiredScene",null)}return(0,c.Z)(t,[{key:"requireScene",value:function(t){this.requiredScene=t}},{key:"getRequiredScene",value:function(){return this.requiredScene}}]),t}();function Z(t){var e,n,r;return t.width<t.height?(r=t.width,e=0,n=t.height/2-r/2):(r=t.height,e=t.width/2-r/2,n=0),{x:e,y:n,size:r}}function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.Z)(t);if(e){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var T=function(){function t(){(0,s.Z)(this,t)}return(0,c.Z)(t,[{key:"execute",value:function(t){}}]),t}(),k=function(){function t(e,n){(0,s.Z)(this,t),(0,f.Z)(this,"cost",void 0),(0,f.Z)(this,"effects",void 0),this.cost=e,this.effects=n.concat()}return(0,c.Z)(t,[{key:"getCost",value:function(){return this.cost}},{key:"getText",value:function(){return this.effects.map((function(t){return"\u30fb"+t.toString()+"\n"})).join("")}},{key:"executeEffects",value:function(t){this.effects.forEach((function(e){return e.execute(t)}))}}]),t}();function w(){return new k(Math.floor(7*Math.random()),[new(function(t){(0,l.Z)(n,t);var e=x(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,c.Z)(n,[{key:"toString",value:function(){return"\u25bd\u25c7"}}]),n}(T)),new(function(t){(0,l.Z)(n,t);var e=x(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,c.Z)(n,[{key:"toString",value:function(){return"\u25cb\xd7\u2606"}}]),n}(T))])}var g=function(){function t(e,n){(0,s.Z)(this,t),(0,f.Z)(this,"_life",void 0),(0,f.Z)(this,"_mana",void 0),(0,f.Z)(this,"_cards",[]),this._life=e,this._mana=n}return(0,c.Z)(t,[{key:"life",get:function(){return this._life},set:function(t){this._life=t}},{key:"mana",get:function(){return this._mana},set:function(t){this._mana=t}},{key:"cards",get:function(){return this._cards.concat()},set:function(t){this._cards=t,this._cards.sort((function(t,e){return t.getCost()-e.getCost()}))}}]),t}();function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.Z)(t);if(e){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var C=function(t){(0,l.Z)(n,t);var e=m(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,f.Z)((0,u.Z)(t),"startButton",void 0),(0,f.Z)((0,u.Z)(t),"titleText",void 0),(0,f.Z)((0,u.Z)(t),"player1InfoText",void 0),(0,f.Z)((0,u.Z)(t),"player2InfoText",void 0),(0,f.Z)((0,u.Z)(t),"c",void 0),(0,f.Z)((0,u.Z)(t),"player1",void 0),(0,f.Z)((0,u.Z)(t),"player2",void 0),(0,f.Z)((0,u.Z)(t),"turnPlayer",void 0),t}return(0,c.Z)(n,[{key:"scaleToWorldX",value:function(t){return t*this.c.size}},{key:"scaleToWorldY",value:function(t){return t*this.c.size}},{key:"convertToWorldX",value:function(t){return this.c.x+t*this.c.size}},{key:"convertToWorldY",value:function(t){return this.c.y+t*this.c.size}},{key:"init",value:function(t){this.c=Z(t),this.titleText=new y.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.4),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255,100)),this.titleText.setText("\u3042\u3093\u306e\u3046\u3093"),this.player1InfoText=new y.Z,this.player1InfoText.setGeometry(this.convertToWorldX(0),this.convertToWorldY(.6),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player1InfoText.setFillColor(t.color(0,0)),this.player1InfoText.setStrokeColor(t.color(255)),this.player1InfoText.setTextColor(t.color(255)),this.player2InfoText=new y.Z,this.player2InfoText.setGeometry(this.convertToWorldX(.7),this.convertToWorldY(.2),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player2InfoText.setFillColor(t.color(0,0)),this.player2InfoText.setStrokeColor(t.color(255)),this.player2InfoText.setTextColor(t.color(255)),this.player1=new g(20,0),this.player1.cards=this.player1.cards.concat(w(),w(),w(),w(),w()),this.player2=new g(20,0),this.player2.cards=this.player2.cards.concat(w(),w(),w(),w(),w()),this.turnPlayer=this.player1}},{key:"update",value:function(t){this.titleText.update(t),this.player1InfoText.setText("Life:"+this.player1.life.toString()+"\nMana:"+this.player1.mana.toString()+"\n"),this.player1InfoText.update(t),this.player2InfoText.setText("Life:"+this.player2.life.toString()+"\nMana:"+this.player2.mana.toString()+"\n"),this.player2InfoText.update(t)}},{key:"draw",value:function(t){var e=this;t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.titleText.draw(t),this.player1InfoText.draw(t),this.player1.cards.forEach((function(n,r){var o=e.scaleToWorldX(.2),i=e.convertToWorldX(.2*r),s=e.convertToWorldY(1)-o;t.push(),t.fill(255),t.square(i,s,o),t.fill(0),t.stroke(0),t.textSize(t.int(.3*o)),t.textAlign(t.LEFT),t.text(n.getCost().toString(),i,s,i+o),t.textSize(t.int(.15*o)),t.text(n.getText(),i,s+.4*o,o),t.pop()})),this.player2InfoText.draw(t),this.player2.cards.forEach((function(n,r){var o=e.scaleToWorldX(.2),i=e.convertToWorldX(.2*r);t.push(),t.fill(255),t.square(i,0,o),t.pop()}))}}]),n}(v);function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.Z)(t);if(e){var o=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var R=function(t){(0,l.Z)(n,t);var e=S(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,f.Z)((0,u.Z)(t),"startButton",void 0),(0,f.Z)((0,u.Z)(t),"titleText",void 0),(0,f.Z)((0,u.Z)(t),"c",void 0),t}return(0,c.Z)(n,[{key:"scaleToWorldX",value:function(t){return t*this.c.size}},{key:"scaleToWorldY",value:function(t){return t*this.c.size}},{key:"convertToWorldX",value:function(t){return this.c.x+t*this.c.size}},{key:"convertToWorldY",value:function(t){return this.c.y+t*this.c.size}},{key:"init",value:function(t){var e=this;this.startButton=new d,this.c=Z(t),this.startButton.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.6),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.startButton.setOnClick((function(){e.requireScene(new C)})),this.startButton.setFillColor(t.color(0)),this.startButton.setStrokeColor(t.color(255)),this.startButton.setTextColor(t.color(255)),this.startButton.setText("Start!"),this.titleText=new y.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.1),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255)),this.titleText.setText("\u3042\u3093\u306e\u3046\u3093")}},{key:"update",value:function(t){this.startButton.update(t),this.titleText.update(t)}},{key:"draw",value:function(t){t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.startButton.draw(t),this.titleText.draw(t)}}]),n}(v);function b(t){var e;t.setup=function(){t.createCanvas(t.windowWidth,t.windowHeight),(e=new R).init(t)},t.draw=function(){e.update(t),e.draw(t),null!=e.getRequiredScene()&&(e=e.getRequiredScene()).init(t)}}function W(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.default,{children:[(0,r.jsx)("title",{children:"\u3042\u3093\u306e\u3046\u3093"}),(0,r.jsx)("meta",{name:"description",content:"\u610f\u5473\u4e0d\u660e\u30ab\u30fc\u30c9\u30b2\u30fc\u30e0\uff01"}),(0,r.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,r.jsx)(i.Z,{sketch:b})]})}},5487:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/undefinedcardgame",function(){return n(3074)}])},9008:function(t,e,n){t.exports=n(639)},4695:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},266:function(t,e,n){"use strict";function r(t,e,n,r,o,i,s){try{var c=t[i](s),u=c.value}catch(l){return void n(l)}c.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var s=t.apply(e,n);function c(t){r(s,o,i,c,u,"next",t)}function u(t){r(s,o,i,c,u,"throw",t)}c(void 0)}))}}n.d(e,{Z:function(){return o}})},8216:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},5997:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return o}})},2953:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},1077:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(6129);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,r.Z)(t,e)}},8847:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}});var o=n(4695);function i(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?(0,o.Z)(t):e}},6129:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,{Z:function(){return r}})}},function(t){t.O(0,[774,888,179],(function(){return e=5487,t(t.s=e);var e}));var e=t.O();_N_E=e}]);