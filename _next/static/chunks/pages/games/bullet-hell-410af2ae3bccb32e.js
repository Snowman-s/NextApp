(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898,408],{4258:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/bullet-hell",function(){return r(8513)}])},6408:function(e,t,r){"use strict";r.r(t);var a=r(5152),l=r.n(a);t.default=l()(()=>Promise.all([r.e(6),r.e(683)]).then(r.bind(r,2683)),{loadableGenerated:{webpack:()=>[2683]},ssr:!1})},8513:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var a=r(5893),l=r(1120),n=r(5154),s=r(3619),o=r(9144),i=r(1953),c=r(2348),u=r(8661),d=r(1401),f=r(5214),p=r(3265),h=r(9894),y=r(1702),m=r(9008),x=r.n(m),g=r(7294),k=r(6408);function b(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=!1,l=-1,n=-1,s=60*r,o=60*r,i=!1;function c(){e.bullets=[],e.lasers=[],e.player={x:200,y:500},e.frameCount=0,t={u:!1,d:!1,l:!1,r:!1,z:!1,capture:void 0!=t&&t.capture,e:!1},a=!1,l=-1,i=!1,o=s}e.bullets=[],e.setup=function(){e.createCanvas(600,600),e.rectMode(e.CENTER),c()},e.draw=()=>{var r,s;let d;e.background(0),a||-1==o||e.shoot(),n>-1&&n--,-1==n&&t.z&&(i=!0,n=60),r={x:0,y:0},t.u&&(r.y-=1),t.l&&(r.x-=1),t.r&&(r.x+=1),t.d&&(r.y+=1),0!=r.x&&0!=r.y&&(r.x/=e.sqrt(2),r.y/=e.sqrt(2)),d=5*(n>50?2:1),r.x*=d,r.y*=d,e.player.x+=r.x,e.player.y+=r.y,e.player.x=e.max(e.player.x,4.5),e.player.y=e.max(e.player.y,4.5),e.player.x=e.min(e.player.x,395.5),e.player.y=e.min(e.player.y,e.height-4.5),function(){let t=[];u.filter(t=>e.frameCount-t.countStartframe>t.spaceFrame).forEach(e=>{e.bullets=e.bullets.filter(e=>!e.deleted),e.bullets.forEach(t=>e.func(t)),e.countStartframe+=e.spaceFrame,e.onlyOnce&&t.push(e)}),u=u.filter(e=>0!=e.bullets.length&&-1===t.indexOf(e))}(),e.bullets.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY}),e.lasers.forEach(t=>{t.x+=t.speed*e.cos(t.angle),t.y+=t.speed*e.sin(t.angle)}),!a&&(n>50||(e.bullets.forEach(t=>{2*e.dist(e.player.x,e.player.y,t.x,t.y)<9+t.size&&(a=!0,l=0)}),e.lasers.forEach(t=>{e.checkLaserHit(t,e.player.x,e.player.y,9)&&(a=!0,l=0)}))),e.bullets=e.bullets.filter(t=>{let r=-100<t.x&&t.x<500&&-100<t.y&&t.y<e.height+100;return t.deleted=!r,r}),o>=0&&o--,-1==o&&(e.bullets=[],e.lasers=[]),!a&&(n<0||(e.push(),e.stroke(0,255,255),e.noFill(),e.arc(e.player.x,e.player.y,27,27,-e.PI/2,-e.PI/2+n/60*e.TAU),e.pop())),a||(e.push(),e.noStroke(),n>50?e.fill(255,255,0):e.fill(0,255,255),e.square(e.player.x,e.player.y,9),e.pop()),e.bullets.forEach(t=>{switch(e.push(),t.img){case"White":e.noStroke(),e.square(t.x,t.y,t.size);break;case"Black":e.stroke(255),e.fill(0),e.strokeWeight(3),e.square(t.x,t.y,t.size);break;default:t.img}e.pop()}),e.lasers.forEach(t=>{e.push(),e.noStroke(),e.translate(t.x,t.y),e.rotate(t.angle),t.justStartFromX?e.rect(t.length/2,0,t.length,t.width):e.rect(0,0,t.length,t.width),e.pop()}),e.push(),e.fill(255),e.textSize(50),s=e.max(e.int(o/60),0),e.text(e.str(s),320,50),e.pop(),(a||-1==o)&&(l++,e.background(0,l/50*255),a||(e.push(),e.textSize(50),e.fill(255),e.text((i?"":"☆")+"Clear!",0,e.height/2),e.pop()),l>=70&&(a?c():(e.push(),e.textSize(30),e.fill(255),e.text("Press Enter Key to restart.",0,e.height/2+30),e.pop(),t.e&&c()))),e.push(),e.rectMode(e.CORNER),e.stroke(255),e.fill(0),e.rect(400,0,e.width-400,e.height),e.fill(255),e.textSize(30),e.text("How To Play",400,30),e.textSize(15),e.text("↑↓→← : Move",400,60),e.text("z : Dash",400,90),e.text("Ctl : Capture Game Screen",400,120),e.pop(),t.capture&&(e.save("screen-shot.jpg"),t.capture=!1)},e.remainSeconds=()=>e.int(o/60),e.spentSeconds=()=>e.int((s-o)/60),e.shoot=()=>{},e.checkLaserHit=(t,r,a,l)=>{let n=t.x-r,s=t.y-a,o=e.cos(t.angle),i=e.sin(t.angle),c=o*n+i*s,u=e.abs(i*n-o*s)<=(t.width+l)/2,d=t.justStartFromX?0<=-c&&-c<=t.length+l:e.abs(c)<=(t.length+l)/2;return u&&d},e.keyPressed=()=>{switch(e.keyCode){case e.UP_ARROW:t.u=!0;break;case e.DOWN_ARROW:t.d=!0;break;case e.LEFT_ARROW:t.l=!0;break;case e.RIGHT_ARROW:t.r=!0;break;case e.ENTER:t.e=!0;break;case e.CONTROL:t.capture=!0}"z"===e.key&&(t.z=!0)},e.keyReleased=()=>{switch(e.keyCode){case e.UP_ARROW:t.u=!1;break;case e.DOWN_ARROW:t.d=!1;break;case e.LEFT_ARROW:t.l=!1;break;case e.RIGHT_ARROW:t.r=!1;break;case e.ENTER:t.e=!1;break;case e.CONTROL:t.capture=!1}"z"===e.key&&(t.z=!1)},e.kill=t=>{switch(t.type){case"Bullet":e.bullets=e.bullets.filter(e=>e!=t),t.deleted=!0;return;case"Laser":e.lasers=e.lasers.filter(e=>e!=t),t.deleted=!0;return}},e.createBullet=function(t,r,a,l,n){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"White",o={x:t,y:r,speedX:a,speedY:l,size:n,deleted:!1,img:s,type:"Bullet"};return e.bullets.push(o),o},e.createLaser=function(t,r,a,l,n,s){let o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i={x:t,y:r,angle:a,speed:l,width:n,length:s,deleted:!1,justStartFromX:o,type:"Laser"};return e.lasers.push(i),i},e.nWay=(t,r,a,l,n,s,o)=>{var i=[];for(let c=0;c<n;c++){var u=s+o*(c-(n-1)/2);i.push(e.createBullet(t,r,l*e.cos(u),l*e.sin(u),a))}return i},e.allWay=function(t,r,a,l,n,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;var i=[];for(let c=0;c<n;c++){var u=s+c*(e.TAU/n),d=e.cos(u),f=e.sin(u);i.push(e.createBullet(t+o*d,r+o*f,l*d,l*f,a))}return i},e.freq=(t,r)=>{(e.frameCount-1)%t==0&&r()};let u=[];e.registerRoutine=function(t,r){let{waitFrame:a=0,spaceFrame:l=1,onlyOnce:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.push({bullets:t,spaceFrame:l,countStartframe:e.frameCount+a,onlyOnce:n,func:r})}}function C(e){b(e,15),e.shoot=()=>{let t=e.frameCount;e.allWay(200,200,10,10,10,e.sin(t/60)/2),10>e.remainSeconds()&&e.freq(3,()=>e.nWay(200,200,8,5,10,t/5,.03))}}function R(e){b(e,15),e.shoot=()=>{let t=e.spentSeconds();e.freq(30,()=>{let r=100+e.random(200),a=100+e.random(100),l=e.random(e.TAU);for(let n=2.5;n<2.5+t/2;n+=.5)e.allWay(r,a,10,n,10,l)})}}function S(e){b(e,15),e.shoot=()=>{e.freq(30,()=>{let t=1.7*e.frameCount;for(let r=t;r<e.TAU+t;r+=e.PI/(1+2.5*e.spentSeconds())){let a=(1.1+e.cos(2*r+e.frameCount/57))*4;e.createBullet(200,100,a*e.cos(r),a*e.sin(r),20)}})}}function W(e){b(e,16),e.shoot=()=>{e.freq(5,()=>{e.allWay(200,300,20,3,30,e.frameCount,(15-e.frameCount/60)*20+150)}),e.freq(70,()=>e.allWay(e.player.x,e.player.y,10,-5,2*e.int(e.spentSeconds()/7)+2,e.random(e.TAU),200))}}function P(e){b(e,15),e.shoot=()=>{e.freq(30,()=>{e.registerRoutine(e.allWay(200,200,10,2,e.int(1.2*e.spentSeconds()+3),0),t=>{t.speedX+=(e.player.x-200)/3e3,t.speedY+=(e.player.y-200)/3e3})})}}function j(e){b(e,15),e.shoot=()=>{e.freq(6>e.remainSeconds()?3:7,()=>{let t=[];for(let r=0;r<400;r+=99){let a=(2*e.frameCount+r)%400,l=a/30+r,n=e.createBullet(a,r+50*e.cos(l),e.cos(l)/2,e.sin(l)/2,10);t.push(n)}e.registerRoutine(t,e=>{e.speedX*=5,e.speedY*=5},{spaceFrame:40,onlyOnce:!0})})}}function q(e){let t=null;b(e,15),e.shoot=()=>{let r=e.frameCount;1==e.frameCount&&(e.allWay(200,300,20,.2,50,0,0),e.registerRoutine([t=e.createLaser(200,300,0,0,5,1e3)],e=>e.angle+=.01)),e.freq(40,()=>{let a=10-e.remainSeconds()/2|0;e.registerRoutine(e.allWay(e.player.x,e.player.y,10,.3,a,r/60,120),r=>{null!=t&&e.checkLaserHit(t,r.x,r.y,r.size)&&(e.createBullet(r.x,r.y,r.speedX,r.speedY,r.size/2),e.kill(r))}),e.registerRoutine(e.allWay(e.player.x,e.player.y,10,.6,a,r/60+e.TAU/a/2,100),r=>{null!=t&&e.checkLaserHit(t,r.x,r.y,r.size)&&(e.createBullet(r.x,r.y,r.speedX,r.speedY,r.size/2),e.kill(r))})})}}function v(e){b(e,15),e.shoot=()=>{if(1==e.frameCount){let t=[];for(let r=0;r<=600;r+=20)t.push(e.createLaser(0,r,0,0,20,0)),t.push(e.createLaser(400,r,0,0,20,0));e.registerRoutine(t,t=>{t.length=e.frameCount/2*e.sin((400==t.x?0:e.PI/2)+(t.y/9+e.frameCount)/30)})}e.freq(30,()=>{let t=600/(e.spentSeconds()/2+6);for(let r=-e.random(t);r<=400;r+=t)e.createBullet(r,0,0,3,7)})}}function w(e){b(e,15),e.shoot=()=>{e.freq(30,()=>{let t=[],r=e.spentSeconds();for(let a=0;a<3*r;a++)t.push(e.createLaser(200,200,a/r/3*e.TAU+e.frameCount,3,5,0));let l=e.frameCount;e.registerRoutine(t,t=>{t.length=e.min(200,(e.frameCount-l)*3)})})}}function B(e){b(e,15);let t=600/(-6*e.sin(-e.PI/2+e.PI/6));e.shoot=()=>{e.freq(60,()=>{let r=e.int(e.frameCount/60)%2,a=[],l=6<e.remainSeconds()&&10>e.remainSeconds()?100:200;for(let n=-500-e.frameCount%100;n<900;n+=l){let s=-e.PI/2+e.PI/6*(0==r?1:-1),o=Object.assign(e.createLaser(n,0,s,-6,3,100,!0),{child:e.createLaser(n,0,s,-6,3,0,!0)});if(a.push(o),6>e.remainSeconds()){let i=e.PI/2+e.PI/6*(0==r?1:-1),c=Object.assign(e.createLaser(n,600,i,-6,3,100,!0),{child:e.createLaser(n,600,i,-6,3,0,!0)});a.push(c)}}e.registerRoutine(a,e=>{e.child.speed=-6,e.child.length=100,e.child.angle=-e.angle},{waitFrame:t,onlyOnce:!0})})}}function L(e){b(e,15),e.shoot=()=>{e.freq(60,()=>{let t=[],r=5*e.frameCount%400;for(let a=0;a<e.TAU;a+=e.TAU/3){let l=Object.assign(e.createLaser(r,0,a,0,3,0),{seed:e.frameCount});t.push(l)}e.registerRoutine(t,t=>{t.y+=3,t.angle+=.01,t.length=e.frameCount/2*e.sin(e.frameCount/60+t.seed)})}),e.freq(30,()=>{let t=e.frameCount**2%400,r=e.createBullet(t,0,0,3,20),a=e.frameCount;e.registerRoutine([r],t=>{t.x+=e.cos(e.frameCount/30+a)/3})})}}function O(e){b(e,15),e.shoot=()=>{e.freq(200,()=>{let t=e.createLaser(0,300,e.PI/2,0,5,600);e.registerRoutine([t],e=>e.x++),5<=e.remainSeconds()&&e.registerRoutine([t],t=>{e.nWay(t.x,t.y,10,3,10,0,e.PI/10);for(let r=0;r<600;r+=60)e.createBullet(t.x,r,1,0,20);e.kill(t)},{waitFrame:60}),t=e.createLaser(400,300,e.PI/2,0,5,600),e.registerRoutine([t],e=>e.x--),5<=e.remainSeconds()&&e.registerRoutine([t],t=>{e.nWay(t.x,t.y,10,3,10,-e.PI,e.PI/10);for(let r=0;r<600;r+=60)e.createBullet(t.x,r,-1,0,20);e.kill(t)},{waitFrame:60}),8>=e.remainSeconds()&&(t=e.createLaser(200,0,0,0,5,600),e.registerRoutine([t],e=>e.y++),5<=e.remainSeconds()&&e.registerRoutine([t],t=>{e.nWay(t.x,t.y,10,3,10,e.PI/2,e.PI/10);for(let r=0;r<600;r+=60)e.createBullet(r,t.y,0,1,20);e.kill(t)},{waitFrame:60}),t=e.createLaser(200,600,0,0,5,600),e.registerRoutine([t],e=>e.y--),5<=e.remainSeconds()&&e.registerRoutine([t],t=>{e.nWay(t.x,t.y,10,3,10,-e.PI/2,e.PI/10);for(let r=0;r<600;r+=60)e.createBullet(r,t.y,0,-1,20);e.kill(t)},{waitFrame:60}))})}}function E(e){b(e,20),e.shoot=()=>{let t=e.frameCount,r=5>=e.remainSeconds()?5:10>=e.remainSeconds()?2:15>=e.remainSeconds()?3:6;e.freq(r,()=>{let r=1200*(e.sin(t/30)+1)%400;5<e.remainSeconds()?e.allWay(r,200,10,5,3,t/60):(e.allWay(r,200,10,5,6,t/60),e.allWay(r,200,7,4,6,t/60),e.allWay(r,200,5,3,6,t/60))})}}function T(e){let t;b(e,15),e.shoot=()=>{let r=e.frameCount;1==e.frameCount&&(t=e.createBullet(200,200,0,0,20)),t.x<0||400<t.x?t.x=400-t.x:(t.y<0||600<t.y)&&(t.y=600-t.y),e.freq(15,()=>{let a=5>=e.remainSeconds()?4:10>=e.remainSeconds()?2:1,l=e.allWay(t.x,t.y,10,3,a,r/60);e.registerRoutine(l,t=>{t.x<0||400<t.x?(e.createBullet(400-t.x,t.y,t.speedX,t.speedY,t.size,"Black"),e.kill(t)):(t.y<0||600<t.y)&&(e.createBullet(t.x,600-t.y,t.speedX,t.speedY,t.size,"Black"),e.kill(t))})}),e.freq(60,()=>{t.speedX=4*e.random()-2,t.speedY=4*e.random()-2})}}function z(e){b(e,15),e.shoot=()=>{e.freq(300,()=>{let t=[],r=(15-e.remainSeconds())/15*16+8;for(let a=0;a<r;a++){let l=a/r*e.TAU,n=3/e.max(e.abs(e.cos(l+e.frameCount)),e.abs(e.sin(l+e.frameCount))),s=e.createBullet(200,300,n*e.cos(l),n*e.sin(l),20);t.push(s)}e.registerRoutine(t,e=>{e.x<0||400<e.x?e.speedX=-e.speedX:(e.y<0||600<e.y)&&(e.speedY=-e.speedY)})})}}let I=(0,l.Z)(e=>(0,n.Z)({root:{position:"fixed",left:0,up:0,"& h1":{padding:e.spacing(3),color:e.palette.primary.dark}}})),_=function(){var e=null,t=[];let r=function(r){e={tabName:r,data:[]},t.push(e)},a=function(t,r){e.data.push({work:t,name:r})};return r("基本セット"),a(C,"斥力"),a(R,"花火の打ち上げ"),a(S,"押し寄せる双葉"),a(W,"一人相撲"),a(P,"銀河系"),a(j,"死霊の散歩"),r("レーザー集"),a(w,"信仰心"),a(q,"身から出る錆"),a(v,"モーセの奇跡"),a(B,"流星のレクイエム"),a(L,"川流しの花"),a(O,"慈悲の圧迫"),r("鏡術"),a(E,"反鏡飛翔法"),a(T,"鏡鳴転身"),a(z,"端の鏡界線"),t}();function A(){let e=I(),[t,r]=(0,g.useState)(0),[l,n]=(0,g.useState)(_[0].data[0]);return(0,a.jsxs)("div",{className:e.root,children:[(0,a.jsxs)(x(),{children:[(0,a.jsx)("title",{children:"BulletHell"}),(0,a.jsx)("meta",{name:"description",content:"弾幕シューティングをしよう"}),(0,a.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,a.jsxs)(o.Z,{direction:{xs:"column",sm:"row"},children:[(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsx)(c.Z,{onChange(e,t){r(t),n(_[t].data[0])},variant:"scrollable",children:_.map((e,t)=>(0,a.jsx)(u.Z,{value:t,label:e.tabName},t))})}),_.map((e,r)=>(0,a.jsx)("div",{hidden:t!==r,children:(0,a.jsx)(d.Z,{children:(0,a.jsx)(f.Z,{children:e.data.map((e,t)=>(0,a.jsxs)(p.ZP,{onClick(t){t.preventDefault(),n(e)},button:!0,children:[e===l?(0,a.jsx)(h.Z,{children:(0,a.jsx)(s.Z,{})}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(y.Z,{inset:e!==l,primary:e.name})]},"".concat(r,"-").concat(t)))})})},"paper-".concat(r)))]}),(0,a.jsx)(k.default,{sketch:l.work})]})]})}}},function(e){e.O(0,[158,201,919,774,888,179],function(){return e(e.s=4258)}),_N_E=e.O()}]);