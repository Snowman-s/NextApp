(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{4258:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/bullet-hell",function(){return l(7150)}])},7150:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return _}});var r=l(5893),s=l(1120),n=l(5154),a=l(9144),o=l(1401),i=l(5214),u=l(3265),c=l(5152),p=l.n(c),d=l(9008),h=l.n(d),f=l(7294);function y(e){let t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=!1,s=-1,n=-1,a=60*l,o=60*l,i=!1;function u(){e.bullets=[],e.player={x:200,y:500},e.frameCount=0,t={u:!1,d:!1,l:!1,r:!1,z:!1,capture:void 0!=t&&t.capture,e:!1},r=!1,s=-1,i=!1,o=a}e.bullets=[],e.setup=function(){e.createCanvas(600,600),e.rectMode(e.CENTER),u()},e.draw=()=>{var l,a;let p;e.background(0),r||-1==o||e.shoot(),n>-1&&n--,-1==n&&t.z&&(i=!0,n=60),l={x:0,y:0},t.u&&(l.y-=1),t.l&&(l.x-=1),t.r&&(l.x+=1),t.d&&(l.y+=1),0!=l.x&&0!=l.y&&(l.x/=e.sqrt(2),l.y/=e.sqrt(2)),p=5*(n>50?2:1),l.x*=p,l.y*=p,e.player.x+=l.x,e.player.y+=l.y,e.player.x=e.max(e.player.x,4.5),e.player.y=e.max(e.player.y,4.5),e.player.x=e.min(e.player.x,395.5),e.player.y=e.min(e.player.y,e.height-4.5),c.filter(t=>e.frameCount%t.spaceFrame==0).forEach(e=>{e.bullets=e.bullets.filter(e=>!e.deleted),e.bullets.forEach(t=>e.func(t))}),c=c.filter(e=>0!=e.bullets.length),e.bullets.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY}),!r&&(n>50||e.bullets.forEach(t=>{2*e.dist(e.player.x,e.player.y,t.x,t.y)<9+t.size&&(r=!0,s=0)})),e.bullets=e.bullets.filter(t=>{let l=-100<t.x&&t.x<500&&-100<t.y&&t.y<e.height+100;return t.deleted=!l,l}),o>=0&&o--,-1==o&&(e.bullets=[]),r||(e.push(),e.noStroke(),n>50?e.fill(255,255,0):e.fill(0,255,255),e.square(e.player.x,e.player.y,9),e.pop()),e.push(),e.bullets.forEach(t=>{e.noStroke(),e.square(t.x,t.y,t.size)}),e.pop(),e.push(),e.fill(255),e.textSize(50),a=e.max(e.int(o/60),0),e.text(e.str(a),320,50),e.pop(),(r||-1==o)&&(s++,e.background(0,s/50*255),r||(e.push(),e.textSize(50),e.fill(255),e.text((i?"":"☆")+"Clear!",0,e.height/2),e.pop()),s>=70&&(r?u():(e.push(),e.textSize(30),e.fill(255),e.text("Press Enter Key to restart.",0,e.height/2+30),e.pop(),t.e&&u()))),e.push(),e.rectMode(e.CORNER),e.stroke(255),e.fill(0),e.rect(400,0,e.width-400,e.height),e.fill(255),e.textSize(30),e.text("How To Play",400,30),e.textSize(15),e.text("↑↓→← : Move",400,60),e.text("z : Dash",400,90),e.text("Ctl : Capture Game Screen",400,120),e.pop(),t.capture&&(e.save("screen-shot.jpg"),t.capture=!1)},e.remainSeconds=()=>e.int(o/60),e.spentSeconds=()=>e.int((a-o)/60),e.shoot=()=>{if(e.frameCount%30==0)for(let t=0;t<e.TAU;t+=e.PI/5)e.bullets.push({x:200,y:200,speedX:9*e.cos(t),speedY:9*e.sin(t),deleted:!1,size:10})},e.keyPressed=()=>{switch(e.keyCode){case e.UP_ARROW:t.u=!0;break;case e.DOWN_ARROW:t.d=!0;break;case e.LEFT_ARROW:t.l=!0;break;case e.RIGHT_ARROW:t.r=!0;break;case e.ENTER:t.e=!0;break;case e.CONTROL:t.capture=!0}"z"===e.key&&(t.z=!0)},e.keyReleased=()=>{switch(e.keyCode){case e.UP_ARROW:t.u=!1;break;case e.DOWN_ARROW:t.d=!1;break;case e.LEFT_ARROW:t.l=!1;break;case e.RIGHT_ARROW:t.r=!1;break;case e.ENTER:t.e=!1;break;case e.CONTROL:t.capture=!1}"z"===e.key&&(t.z=!1)},e.nWay=(t,l,r,s,n,a,o)=>{var i=[];for(let u=0;u<n;u++){var c=a+o*(u-(n-1)/2);i.push({x:t,y:l,size:r,speedX:s*e.cos(c),speedY:s*e.sin(c),deleted:!1})}return e.bullets.push(...i),i},e.allWay=function(t,l,r,s,n,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;var i=[];for(let u=0;u<n;u++){var c=a+u*(e.TAU/n),p=e.cos(c),d=e.sin(c);i.push({x:t+o*p,y:l+o*d,size:r,speedX:s*p,speedY:s*d,deleted:!1})}return e.bullets.push(...i),i},e.freq=(t,l)=>{e.frameCount%t==0&&l()};let c=[];e.registerRoutine=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;c.push({bullets:e,spaceFrame:l,func:t})}}function x(e){y(e,15),e.shoot=()=>{let t=e.frameCount;e.allWay(200,200,10,10,10,e.sin(t/60)/2),10>e.remainSeconds()&&e.freq(3,()=>e.nWay(200,200,8,5,10,t/5,.03))}}function k(e){y(e,15),e.shoot=()=>{let t=e.spentSeconds();e.freq(30,()=>{let l=100+e.random(200),r=100+e.random(100),s=e.random(e.TAU);for(let n=2.5;n<2.5+t/2;n+=.5)e.allWay(l,r,10,n,10,s)})}}function b(e){y(e,15),e.shoot=()=>{e.freq(30,()=>{let t=1.7*e.frameCount;for(let l=t;l<e.TAU+t;l+=e.PI/(1+2.5*e.spentSeconds())){let r=(1.1+e.cos(2*l+e.frameCount/57))*4;e.bullets.push({x:200,y:100,speedX:r*e.cos(l),speedY:r*e.sin(l),deleted:!1,size:20})}})}}function m(e){y(e,16),e.shoot=()=>{e.freq(5,()=>{e.allWay(200,300,20,3,30,e.frameCount,(15-e.frameCount/60)*20+150)}),e.freq(70,()=>e.allWay(e.player.x,e.player.y,10,-5,2*e.int(e.spentSeconds()/7)+2,e.random(e.TAU),200))}}function R(e){y(e,15),e.shoot=()=>{e.freq(30,()=>{e.registerRoutine(e.allWay(200,200,10,2,e.int(1.2*e.spentSeconds()+3),0),t=>{t.speedX+=(e.player.x-200)/3e3,t.speedY+=(e.player.y-200)/3e3})})}}function C(){var e=new Map;let t=function(t,l,r){e.set(t,{work:l,name:void 0==r?t:r})};return t("a",x,"斥力"),t("b",k,"花火の打ち上げ"),t("c",b,"押し寄せる双葉"),t("d",m,"一人相撲"),t("e",R,"銀河系"),e}let v=p()(()=>l.e(408).then(l.bind(l,6408)),{loadableGenerated:{webpack:()=>[6408]},ssr:!1}),E=(0,s.Z)(e=>(0,n.Z)({root:{"& h1":{padding:e.spacing(3),color:e.palette.primary.dark}}}));function _(){let e=E(),[t,l]=(0,f.useState)(null),s=[],n=C().keys();if(C().size>0)for(let c=n.next();!c.done;c=n.next()){var p=C().get(c.value);s.push({id:c.value,sketchName:p.name,sketchFunc:p.work})}return(0,r.jsxs)("div",{className:e.root,children:[(0,r.jsxs)(h(),{children:[(0,r.jsx)("title",{children:"BulletHell"}),(0,r.jsx)("meta",{name:"description",content:"弾幕シューティングをしよう"}),(0,r.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,r.jsxs)(a.Z,{direction:{xs:"column",sm:"row"},children:[(0,r.jsx)(o.Z,{children:(0,r.jsx)(i.Z,{children:s.map(e=>(0,r.jsx)(u.ZP,{button:!0,onClick(t){t.preventDefault(),l({sketch:e.sketchFunc})},children:e.sketchName},e.id))})}),(0,r.jsx)(v,{sketch:null!==t?t.sketch:x})]})]})}}},function(e){e.O(0,[813,305,774,888,179],function(){return e(e.s=4258)}),_N_E=e.O()}]);