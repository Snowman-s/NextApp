(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{4507:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/calculator",function(){return n(1910)}])},1910:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(5893),s=n(9008),a=n.n(s),c=n(1749),o=n(3426),u=n(2318),i=n(8009);class l{calc(){let e=[];return this.elements.forEach(t=>{t.do(e)}),0==e.length?NaN:e[0]}static create(e){var t=new l;let n=[],r=[];return e.tokens.forEach(e=>{switch(e.name){case"term":n.push(p.create(e));break;case"two_operator":let t=h.create(e);for(;r.length>0&&r[0].priority()>=t.priority();)n.push(r.pop());r.push(t)}}),n=n.concat(r.reverse()),t.elements=n,t}}class p{do(e){e.push(this.term.calc())}static create(e){var t=new p;return t.term=_(e),t}}class h{do(e){let t=e.pop(),n=e.pop();switch(this.op){case"+":e.push(n+t);break;case"-":e.push(n-t);break;case"*":e.push(n*t);break;case"/":e.push(n/t);break;case"^":e.push(n**t);break;default:e.push(NaN)}}priority(){switch(this.op){case"+":case"-":return 1;case"*":case"/":return 2;case"^":return 3;default:return 0}}static create(e){var t=new h;return t.op=e.value,t}}function _(e){switch(e.name){case"one_op_exp":return N.create(e);case"two_op_exp":return l.create(e);case"string_constants":return w.create(e);case"NUMBER":return m.create(e);case"signed_constants":return k.create(e);case"unsigned_constants":return _(e.tokens[0]);case"exp":case"bracket_term":case"term":return _(e.tokens[1]);default:return d.create(e)}}class d{calc(){return NaN}static create(e){return new d}}class w{calc(){return this.constants}static create(e){var t=new w;switch(e.value){case"PI":t.constants=Math.PI;break;case"E":t.constants=Math.E;break;default:t.constants=NaN}return t}}class m{calc(){return this.num}static create(e){var t=new m;return t.num=parseFloat(e.value),t}}class k{calc(){let e=this.unsigned_constants.calc();switch(this.op){case"+":return e;case"-":return-e;default:return NaN}}static create(e){var t=new k;return 1==e.tokens.length?(t.op="+",t.unsigned_constants=_(e.tokens[0])):(t.op=e.tokens[0].value,t.unsigned_constants=_(e.tokens[1])),t}}class N{calc(){let e=this.term.calc();switch(this.op){case"+":return e;case"-":return-e;case"sin":return Math.sin(e);case"cos":return Math.cos(e);case"tan":return Math.tan(e);default:return NaN}}static create(e){var t=new N;return t.op=e.tokens[0].value,t.term=_(e.tokens[1]),t}}var f=n(7294);function x(){let[e,t]=(0,f.useState)("0.0");return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Calculator"}),(0,r.jsx)("meta",{name:"description",content:"文字列を解釈する一般電卓"}),(0,r.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,r.jsxs)(c.Z,{container:!0,children:[(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(o.Z,{onChange:function(e){var n;let r,s;let a=(n=e.target.value,(r=new i.S).AddLanguage('\n    <SYNTAX> ::= <exp>\n\n    <string_constants> ::= "PI" | "E"\n    <unsigned_constants> ::= <NUMBER> | <string_constants>\n\n    <one_operator> ::= "+" | "-" | "sin" | "cos" | "tan"\n    <one_op_exp> ::= <one_operator> <term>\n\n    <two_operator> ::= "+" | "-" | "*" | "/"  | "^"\n    <two_op_exp> ::= <term> 1*(<two_operator> <term>)\n\n    <exp> ::= <OWSP> (<term> | <two_op_exp>) <OWSP>\n\n    <bracket_term> ::= "(" <exp> ")"\n  \n    <term> ::= <OWSP> ( <one_op_exp> | <unsigned_constants> | <bracket_term> ) <OWSP>\n    '.trim(),"calcLang"),r.SetRuleEvents({SYNTAX(e,t){t.result=_(e.tokens[0]).calc()}}),s={result:NaN},(r.ParseScript(n,s),isNaN(s.result))?"?????":s.result);t("number"==typeof a?a.toFixed(10):a)}})}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(u.Z,{children:" = "})}),(0,r.jsx)(c.Z,{item:!0,children:(0,r.jsx)(u.Z,{children:e})})]})]})}}},function(e){e.O(0,[128,489,799,131,101,774,888,179],function(){return e(e.s=4507)}),_N_E=e.O()}]);