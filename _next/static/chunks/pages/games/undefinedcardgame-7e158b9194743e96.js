(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614,408],{6269:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/undefinedcardgame",function(){return s(4468)}])},6408:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return r}});var i=s(5893),o=s(7294);function r(t){let e=(0,o.useRef)(),[r,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let i=async function(){let i=new(await s.e(6).then(s.t.bind(s,4035,23))).default(t.sketch,e.current);l(i)};i()},[t.sketch]),(0,o.useEffect)(()=>{var e,s,i,o,l;null!=r&&(t.saveRequire&&(null===(s=r.onSave)||void 0===s||s.call(r),null===(i=r.onSaveEnd)||void 0===i||i.call(r)),t.restartRequire&&(null===(o=r.onRestart)||void 0===o||o.call(r),null===(l=r.onRestartEnd)||void 0===l||l.call(r)),null===(e=r.onPropsUpdate)||void 0===e||e.call(r,t))},[t,r]),(0,o.useEffect)(()=>()=>{r&&r.remove()},[r]),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("div",{ref:e,style:{position:"absolute",zIndex:-1}}),t.children]})}},6098:function(t,e,s){"use strict";s.d(e,{Z:function(){return i}});class i{update(t){if(t.mouseIsPressed){let e=t.mouseX,s=t.mouseY;this.isInBounds(e,s)&&(this.pressed=!0)}else{if(this.pressed){let i=t.mouseX,o=t.mouseY;this.isInBounds(i,o)&&this.onClick()}this.pressed=!1}}setOnClick(t){this.onClick=t}constructor(){this.pressed=!1}}},2232:function(t,e,s){"use strict";s.d(e,{Z:function(){return i}});class i{setGeometry(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i}setStrokeColor(t){this.strokeColor=t}setFillColor(t){this.fillColor=t}setTextColor(t){this.textColor=t}setText(t){this.text=t}update(t){}draw(t){var e,s,i;let o=this.text.split("\n").map(t=>t.length).reduce((e,s)=>t.max(e,s)),r=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(s=this.strokeColor)&&void 0!==s?s:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(r),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.text="",this.fillColor=null,this.strokeColor=null,this.textColor=null}}},4468:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return w}});var i=s(5893),o=s(9008),r=s.n(o),l=s(6408),h=s(6098);class n extends h.Z{isInBounds(t,e){return this.x<t&&t<this.x+this.width&&this.y<e&&e<this.y+this.height}setGeometry(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i}setStrokeColor(t){this.strokeColor=t}setFillColor(t){this.fillColor=t}setTextColor(t){this.textColor=t}setText(t){this.text=t}draw(t){var e,s,i;let o=this.text.split("\n").map(t=>t.length).reduce((e,s)=>t.max(e,s)),r=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(s=this.strokeColor)&&void 0!==s?s:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(r),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}constructor(...t){super(...t),this.x=0,this.y=0,this.width=0,this.height=0,this.text="",this.fillColor=null,this.strokeColor=null,this.textColor=null}}var c=s(2232);class a{requireScene(t){this.requiredScene=t}getRequiredScene(){return this.requiredScene}constructor(){this.requiredScene=null}}function u(t){let e,s,i;return t.width<t.height?(i=t.width,e=0,s=t.height/2-i/2):(i=t.height,e=t.width/2-i/2,s=0),{x:e,y:s,size:i}}class d{execute(t){}}class x{getCost(){return this.cost}getText(){return this.effects.map(t=>"・"+t.toString()+"\n").join("")}executeEffects(t){this.effects.forEach(e=>e.execute(t))}constructor(t,e){this.cost=t,this.effects=e.concat()}}function f(){return new x(Math.floor(7*Math.random()),[new class extends d{toString(){return"▽◇"}},new class extends d{toString(){return"○\xd7☆"}}])}class T{get life(){return this._life}set life(t){this._life=t}get mana(){return this._mana}set mana(t){this._mana=t}get cards(){return this._cards.concat()}set cards(t){this._cards=t,this._cards.sort((t,e)=>t.getCost()-e.getCost())}constructor(t,e){this._cards=[],this._life=t,this._mana=e}}class p extends a{scaleToWorldX(t){return t*this.c.size}scaleToWorldY(t){return t*this.c.size}convertToWorldX(t){return this.c.x+t*this.c.size}convertToWorldY(t){return this.c.y+t*this.c.size}init(t){this.c=u(t),this.titleText=new c.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.4),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255,100)),this.titleText.setText("あんのうん"),this.player1InfoText=new c.Z,this.player1InfoText.setGeometry(this.convertToWorldX(0),this.convertToWorldY(.6),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player1InfoText.setFillColor(t.color(0,0)),this.player1InfoText.setStrokeColor(t.color(255)),this.player1InfoText.setTextColor(t.color(255)),this.player2InfoText=new c.Z,this.player2InfoText.setGeometry(this.convertToWorldX(.7),this.convertToWorldY(.2),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player2InfoText.setFillColor(t.color(0,0)),this.player2InfoText.setStrokeColor(t.color(255)),this.player2InfoText.setTextColor(t.color(255)),this.player1=new T(20,0),this.player1.cards=this.player1.cards.concat(f(),f(),f(),f(),f()),this.player2=new T(20,0),this.player2.cards=this.player2.cards.concat(f(),f(),f(),f(),f()),this.turnPlayer=this.player1}update(t){this.titleText.update(t),this.player1InfoText.setText("Life:"+this.player1.life.toString()+"\nMana:"+this.player1.mana.toString()+"\n"),this.player1InfoText.update(t),this.player2InfoText.setText("Life:"+this.player2.life.toString()+"\nMana:"+this.player2.mana.toString()+"\n"),this.player2InfoText.update(t)}draw(t){t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.titleText.draw(t),this.player1InfoText.draw(t),this.player1.cards.forEach((e,s)=>{let i=this.scaleToWorldX(.2),o=this.convertToWorldX(.2*s),r=this.convertToWorldY(1)-i;t.push(),t.fill(255),t.square(o,r,i),t.fill(0),t.stroke(0),t.textSize(t.int(.3*i)),t.textAlign(t.LEFT),t.text(e.getCost().toString(),o,r,o+i),t.textSize(t.int(.15*i)),t.text(e.getText(),o,r+.4*i,i),t.pop()}),this.player2InfoText.draw(t),this.player2.cards.forEach((e,s)=>{let i=this.scaleToWorldX(.2),o=this.convertToWorldX(.2*s);t.push(),t.fill(255),t.square(o,0,i),t.pop()})}}class y extends a{scaleToWorldX(t){return t*this.c.size}scaleToWorldY(t){return t*this.c.size}convertToWorldX(t){return this.c.x+t*this.c.size}convertToWorldY(t){return this.c.y+t*this.c.size}init(t){this.startButton=new n,this.c=u(t),this.startButton.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.6),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.startButton.setOnClick(()=>{this.requireScene(new p)}),this.startButton.setFillColor(t.color(0)),this.startButton.setStrokeColor(t.color(255)),this.startButton.setTextColor(t.color(255)),this.startButton.setText("Start!"),this.titleText=new c.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.1),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255)),this.titleText.setText("あんのうん")}update(t){this.startButton.update(t),this.titleText.update(t)}draw(t){t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.startButton.draw(t),this.titleText.draw(t)}}function C(t){let e;t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight),(e=new y).init(t)},t.draw=()=>{e.update(t),e.draw(t),null!=e.getRequiredScene()&&(e=e.getRequiredScene()).init(t)}}function w(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"あんのうん"}),(0,i.jsx)("meta",{name:"description",content:"意味不明カードゲーム！"}),(0,i.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,i.jsx)(l.default,{sketch:C})]})}},9008:function(t,e,s){t.exports=s(3121)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=6269)}),_N_E=t.O()}]);