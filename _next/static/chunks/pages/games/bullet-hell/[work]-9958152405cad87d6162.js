(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1974:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(5893),o=n(809),u=n.n(o),i=n(266),c=n(8216),s=n(5997),a=n(4695),f=n(1077),l=n(8847),p=n(2953),d=n(2809),y=n(7294);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var v=function(e){(0,f.Z)(o,e);var t=h(o);function o(e){var n;return(0,c.Z)(this,o),n=t.call(this,e),(0,d.Z)((0,a.Z)(n),"myRef",void 0),(0,d.Z)((0,a.Z)(n),"canvasRef",void 0),n.myRef=y.createRef(),n.canvasRef=y.createRef(),n}return(0,s.Z)(o,[{key:"componentDidMount",value:function(){var e=(0,i.Z)(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(6).then(n.t.bind(n,4035,23));case 2:t=e.sent,r=new t.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=(0,i.Z)(u().mark((function e(t){var r,o,i,c,s,a,f,l,p,d,y,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.sketch===this.props.sketch){e.next=7;break}return this.state.p5obj.remove(),e.next=4,n.e(6).then(n.t.bind(n,4035,23));case 4:i=e.sent,c=new i.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:c});case 7:this.props.saveRequire&&(null===(s=(a=this.state.p5obj).onSave)||void 0===s||s.call(a),null===(f=(l=this.props).onSaveEnd)||void 0===f||f.call(l)),this.props.restartRequire&&(null===(p=(d=this.state.p5obj).onRestart)||void 0===p||p.call(d),null===(y=(h=this.props).onRestartEnd)||void 0===y||y.call(h)),null===(r=(o=this.state.p5obj).onPropsUpdate)||void 0===r||r.call(o,this.props);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,r.jsxs)("div",{ref:this.myRef,style:{position:"relative"},children:[(0,r.jsx)("div",{ref:this.canvasRef,style:{position:"absolute",zIndex:-1}}),this.props.children]})}}]),o}(y.Component)},2692:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=5,o=9,u=!1,i=-1,c=-1,s=60*n,a=60*n,f=!1,l=400;function p(){e.bullets=[],e.player={x:200,y:500},e.frameCount=0,t={u:!1,d:!1,l:!1,r:!1,z:!1,capture:void 0!=t&&t.capture,e:!1},u=!1,i=-1,f=!1,a=s}function d(){c>-1&&c--,-1==c&&t.z&&(f=!0,c=60)}function y(){return c>50}function h(){var n={x:0,y:0};t.u&&(n.y-=1),t.l&&(n.x-=1),t.r&&(n.x+=1),t.d&&(n.y+=1),0!=n.x&&0!=n.y&&(n.x/=e.sqrt(2),n.y/=e.sqrt(2));var u=r*(y()?2:1);n.x*=u,n.y*=u,e.player.x+=n.x,e.player.y+=n.y,e.player.x=e.max(e.player.x,o/2),e.player.y=e.max(e.player.y,o/2),e.player.x=e.min(e.player.x,l-o/2),e.player.y=e.min(e.player.y,e.height-o/2)}function v(){e.bullets.forEach((function(e){e.x+=e.speedX,e.y+=e.speedY}))}function b(){u||(e.push(),e.noStroke(),y()?e.fill(255,255,0):e.fill(0,255,255),e.square(e.player.x,e.player.y,o),e.pop())}function x(){e.push(),e.bullets.forEach((function(t){e.noStroke(),e.square(t.x,t.y,t.size)})),e.pop()}function m(){e.push(),e.fill(255),e.textSize(50);var t=e.max(e.int(a/60),0);e.text(e.str(t),l-80,50),e.pop()}function R(){u||y()||e.bullets.forEach((function(t){2*e.dist(e.player.x,e.player.y,t.x,t.y)<o+t.size&&(u=!0,i=0)}))}function k(){e.bullets=e.bullets.filter((function(t){var n=-100<t.x&&t.x<l+100&&-100<t.y&&t.y<e.height+100;return t.deleted=!n,n}))}function w(){i++,e.background(0,i/50*255),u||(e.push(),e.textSize(50),e.fill(255),e.text((f?"":"\u2606")+"Clear!",0,e.height/2),e.pop()),i>=70&&(u?p():(e.push(),e.textSize(30),e.fill(255),e.text("Press Enter Key to restart.",0,e.height/2+30),e.pop(),t.e&&p()))}function _(){e.push(),e.rectMode(e.CORNER),e.stroke(255),e.fill(0),e.rect(l,0,e.width-l,e.height),e.fill(255),e.textSize(30),e.text("How To Play",l,30),e.textSize(15),e.text("\u2191\u2193\u2192\u2190 : Move",l,60),e.text("z : Dash",l,90),e.text("Ctl : Capture Game Screen",l,120),e.pop()}function S(){return u||-1==a}e.bullets=[],e.setup=function(){e.createCanvas(600,600),e.rectMode(e.CENTER),p()},e.draw=function(){e.background(0),S()||e.shoot(),d(),h(),Z(),v(),R(),k(),a>=0&&a--,-1==a&&(e.bullets=[]),b(),x(),m(),S()&&w(),_(),t.capture&&(e.save("screen-shot.jpg"),t.capture=!1)},e.remainSeconds=function(){return e.int(a/60)},e.spentSeconds=function(){return e.int((s-a)/60)},e.shoot=function(){if(e.frameCount%30==0)for(var t=0;t<e.TAU;t+=e.PI/5)e.bullets.push({x:200,y:200,speedX:9*e.cos(t),speedY:9*e.sin(t),deleted:!1,size:10})},e.keyPressed=function(){switch(e.keyCode){case e.UP_ARROW:t.u=!0;break;case e.DOWN_ARROW:t.d=!0;break;case e.LEFT_ARROW:t.l=!0;break;case e.RIGHT_ARROW:t.r=!0;break;case e.ENTER:t.e=!0;break;case e.CONTROL:t.capture=!0}switch(e.key){case"z":t.z=!0}},e.keyReleased=function(){switch(e.keyCode){case e.UP_ARROW:t.u=!1;break;case e.DOWN_ARROW:t.d=!1;break;case e.LEFT_ARROW:t.l=!1;break;case e.RIGHT_ARROW:t.r=!1;break;case e.ENTER:t.e=!1;break;case e.CONTROL:t.capture=!1}switch(e.key){case"z":t.z=!1}},e.nWay=function(t,n,r,o,u,i,c){for(var s,a=[],f=0;f<u;f++){var l=i+c*(f-(u-1)/2);a.push({x:t,y:n,size:r,speedX:o*e.cos(l),speedY:o*e.sin(l),deleted:!1})}return(s=e.bullets).push.apply(s,a),a},e.allWay=function(t,n,r,o,u,i){for(var c,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=[],f=0;f<u;f++){var l=i+f*(e.TAU/u),p=e.cos(l),d=e.sin(l);a.push({x:t+s*p,y:n+s*d,size:r,speedX:o*p,speedY:o*d,deleted:!1})}return(c=e.bullets).push.apply(c,a),a},e.freq=function(t,n){e.frameCount%t==0&&n()};var O=[];function Z(){O.filter((function(t){return e.frameCount%t.spaceFrame==0})).forEach((function(e){e.bullets=e.bullets.filter((function(e){return!e.deleted})),e.bullets.forEach((function(t){return e.func(t)}))})),O=O.filter((function(e){return 0!=e.bullets.length}))}e.registerRoutine=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;O.push({bullets:e,spaceFrame:n,func:t})}}function o(e){r(e,15),e.shoot=function(){var t=e.frameCount;e.allWay(200,200,10,10,10,e.sin(t/60)/2),e.remainSeconds()<10&&e.freq(3,(function(){return e.nWay(200,200,8,5,10,t/5,.03)}))}}function u(e){r(e,15),e.shoot=function(){var t=e.spentSeconds();e.freq(30,(function(){for(var n=100+e.random(200),r=100+e.random(100),o=e.random(e.TAU),u=2.5;u<2.5+t/2;u+=.5)e.allWay(n,r,10,u,10,o)}))}}function i(e){r(e,15),e.shoot=function(){e.freq(30,(function(){for(var t=1.7*e.frameCount,n=t;n<e.TAU+t;n+=e.PI/(1+2.5*e.spentSeconds())){var r=4*(1.1+e.cos(2*n+e.frameCount/57));e.bullets.push({x:200,y:100,speedX:r*e.cos(n),speedY:r*e.sin(n),deleted:!1,size:20})}}))}}function c(e){r(e,16),e.shoot=function(){e.freq(5,(function(){e.allWay(200,300,20,3,30,e.frameCount,20*(15-e.frameCount/60)+150)})),e.freq(70,(function(){return e.allWay(e.player.x,e.player.y,10,-5,2*e.int(e.spentSeconds()/7)+2,e.random(e.TAU),200)}))}}function s(e){r(e,15),e.shoot=function(){e.freq(30,(function(){e.registerRoutine(e.allWay(200,200,10,2,e.int(1.2*e.spentSeconds()+3),0),(function(t){t.speedX+=(e.player.x-200)/3e3,t.speedY+=(e.player.y-200)/3e3}))}))}}function a(){var e=new Map,t=function(t,n,r){e.set(t,{work:n,name:void 0==r?t:r})};return t("a",o,"\u65a5\u529b"),t("b",u,"\u82b1\u706b\u306e\u6253\u3061\u4e0a\u3052"),t("c",i,"\u62bc\u3057\u5bc4\u305b\u308b\u53cc\u8449"),t("d",c,"\u4e00\u4eba\u76f8\u64b2"),t("e",s,"\u9280\u6cb3\u7cfb"),e}n.d(t,{Z:function(){return a}})},3563:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return s},default:function(){return a}});var r=n(5893),o=n(4651),u=n(9008),i=n(1974),c=n(2692),s=!0;function a(){var e=(0,o.useRouter)().query.work;"string"!==typeof e&&"undefined"!=typeof e&&(e=e[0]);var t=(0,c.Z)().get(e),n=t.work;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(u.default,{children:[(0,r.jsxs)("title",{children:["\u5f3e\u5e55 - ",t.name]}),(0,r.jsx)("meta",{name:"description",content:"\u5f3e\u5e55"}),(0,r.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),void 0==n?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(i.Z,{sketch:n})]})}},1883:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/bullet-hell/[work]",function(){return n(3563)}])},9008:function(e,t,n){e.exports=n(639)},4695:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},266:function(e,t,n){"use strict";function r(e,t,n,r,o,u,i){try{var c=e[u](i),s=c.value}catch(a){return void n(a)}c.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,u){var i=e.apply(t,n);function c(e){r(i,o,u,c,s,"next",e)}function s(e){r(i,o,u,c,s,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return o}})},8216:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5997:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return o}})},2953:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},1077:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(6129);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},8847:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return u}});var o=n(4695);function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?(0,o.Z)(e):t}},6129:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[774,888,179],(function(){return t=1883,e(e.s=t);var t}));var t=e.O();_N_E=t}]);