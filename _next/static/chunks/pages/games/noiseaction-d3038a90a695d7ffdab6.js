(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{1974:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var i=n(5893),o=n(809),r=n.n(o),s=n(266),u=n(8216),c=n(5997),h=n(4695),l=n(9083),a=n(8847),f=n(2953),d=n(2809),p=n(7294);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var y=function(t){(0,l.Z)(o,t);var e=v(o);function o(t){var n;return(0,u.Z)(this,o),n=e.call(this,t),(0,d.Z)((0,h.Z)(n),"myRef",void 0),(0,d.Z)((0,h.Z)(n),"canvasRef",void 0),n.myRef=p.createRef(),n.canvasRef=p.createRef(),n}return(0,c.Z)(o,[{key:"componentDidMount",value:function(){var t=(0,s.Z)(r().mark((function t(){var e,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(6).then(n.t.bind(n,4035,23));case 2:e=t.sent,i=new e.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:i});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=(0,s.Z)(r().mark((function t(e){var i,o,s,u,c,h,l,a,f,d,p,v;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.sketch===this.props.sketch){t.next=7;break}return this.state.p5obj.remove(),t.next=4,n.e(6).then(n.t.bind(n,4035,23));case 4:s=t.sent,u=new s.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:u});case 7:this.props.saveRequire&&(null===(c=(h=this.state.p5obj).onSave)||void 0===c||c.call(h),null===(l=(a=this.props).onSaveEnd)||void 0===l||l.call(a)),this.props.restartRequire&&(null===(f=(d=this.state.p5obj).onRestart)||void 0===f||f.call(d),null===(p=(v=this.props).onRestartEnd)||void 0===p||p.call(v)),null===(i=(o=this.state.p5obj).onPropsUpdate)||void 0===i||i.call(o,this.props);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return(0,i.jsxs)("div",{ref:this.myRef,style:{position:"relative"},children:[(0,i.jsx)("div",{ref:this.canvasRef,style:{position:"absolute",zIndex:-1}}),this.props.children]})}}]),o}(p.Component)},3683:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(8216),o=n(5997),r=n(2809),s=function(){function t(){(0,i.Z)(this,t),(0,r.Z)(this,"x",0),(0,r.Z)(this,"y",0),(0,r.Z)(this,"width",0),(0,r.Z)(this,"height",0),(0,r.Z)(this,"text",""),(0,r.Z)(this,"fillColor",null),(0,r.Z)(this,"strokeColor",null),(0,r.Z)(this,"textColor",null),(0,r.Z)(this,"pressed",!1),(0,r.Z)(this,"onClick",(function(){}))}return(0,o.Z)(t,[{key:"setGeometry",value:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}},{key:"setStrokeColor",value:function(t){this.strokeColor=t}},{key:"setFillColor",value:function(t){this.fillColor=t}},{key:"setTextColor",value:function(t){this.textColor=t}},{key:"setText",value:function(t){this.text=t}},{key:"setOnClick",value:function(t){this.onClick=t}},{key:"update",value:function(t){if(t.mouseIsPressed){var e=t.mouseX,n=t.mouseY;this.x<e&&e<this.x+this.width&&this.y<n&&n<this.y+this.height&&(this.pressed=!0)}else{if(this.pressed){var i=t.mouseX,o=t.mouseY;this.x<i&&i<this.x+this.width&&this.y<o&&o<this.y+this.height&&this.onClick()}this.pressed=!1}}},{key:"draw",value:function(t){var e,n,i,o=this.text.split("\n").map((function(t){return t.length})).reduce((function(e,n){return t.max(e,n)})),r=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(n=this.strokeColor)&&void 0!==n?n:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(r),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}}]),t}()},1790:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(8216),o=n(5997),r=n(2809),s=function(){function t(){(0,i.Z)(this,t),(0,r.Z)(this,"x",0),(0,r.Z)(this,"y",0),(0,r.Z)(this,"width",0),(0,r.Z)(this,"height",0),(0,r.Z)(this,"text",""),(0,r.Z)(this,"fillColor",null),(0,r.Z)(this,"strokeColor",null),(0,r.Z)(this,"textColor",null)}return(0,o.Z)(t,[{key:"setGeometry",value:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}},{key:"setStrokeColor",value:function(t){this.strokeColor=t}},{key:"setFillColor",value:function(t){this.fillColor=t}},{key:"setTextColor",value:function(t){this.textColor=t}},{key:"setText",value:function(t){this.text=t}},{key:"update",value:function(t){}},{key:"draw",value:function(t){var e,n,i,o=this.text.split("\n").map((function(t){return t.length})).reduce((function(e,n){return t.max(e,n)})),r=t.min(this.width/o,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(n=this.strokeColor)&&void 0!==n?n:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(r),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}}]),t}()},4200:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var i=n(5893),o=n(9008),r=n(1974),s=n(8216),u=n(5997),c=n(2809),h=function(){function t(){(0,s.Z)(this,t),(0,c.Z)(this,"loadedScenes",[]),(0,c.Z)(this,"reservedAction",[])}return(0,u.Z)(t,[{key:"update",value:function(t){this.loadedScenes.reverse().forEach((function(e){e.update(t)})),this.reservedAction.forEach((function(e){e(t)})),this.reservedAction.splice(0)}},{key:"render",value:function(t){t.background(0),this.loadedScenes.reverse().forEach((function(e){t.push(),e.render(t),t.pop()}))}},{key:"reserveNextScene",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.reservedAction.push((function(i){t.init(i),n&&e.loadedScenes.splice(0),e.loadedScenes.push(t)}))}},{key:"onResized",value:function(t){this.loadedScenes.reverse().forEach((function(e){e.onResized(t)}))}}],[{key:"getInstance",value:function(){return this.instance}}]),t}();(0,c.Z)(h,"instance",new h);var l=function(){function t(){(0,s.Z)(this,t),(0,c.Z)(this,"graphic",void 0),(0,c.Z)(this,"lastReloded",0)}return(0,u.Z)(t,[{key:"update",value:function(t){if(void 0==this.graphic&&(this.graphic=t.createGraphics(500,500)),t.frameCount-this.lastReloded>2){this.graphic.clear(),this.graphic.noStroke();for(var e=0;e<20;e++)this.graphic.fill(0,t.random(255)),this.graphic.rect(t.random(500),t.random(500),t.random(200),t.random(200));this.lastReloded=t.frameCount}}},{key:"draw",value:function(t){void 0!=this.graphic&&t.image(this.graphic,0,0,t.width,t.height)}}]),t}(),a=n(3683),f=n(1790),d=function(){function t(){(0,s.Z)(this,t),(0,c.Z)(this,"title",void 0),(0,c.Z)(this,"startButton",void 0),(0,c.Z)(this,"noise",void 0)}return(0,u.Z)(t,[{key:"init",value:function(t){this.onResized(t)}},{key:"getComponents",value:function(){return[this.title,this.startButton,this.noise]}},{key:"update",value:function(t){this.getComponents().forEach((function(e){e.update(t)}))}},{key:"render",value:function(t){this.getComponents().forEach((function(e){e.draw(t)}))}},{key:"onResized",value:function(t){this.title=new f.Z,this.title.setText("Noise"),this.title.setGeometry(0,0,t.width,t.height/2),this.title.setTextColor(255),this.startButton=new a.Z,this.startButton.setText("Start"),this.startButton.setStrokeColor(255),this.startButton.setGeometry((t.width-t.width/3)/2,t.height/2,t.width/3,t.height/4),this.startButton.setTextColor(255),this.startButton.setOnClick((function(){console.log("AAAA")})),this.noise=new l}}]),t}();function p(t){t.setup=function(){t.createCanvas(window.innerWidth,window.innerHeight),h.getInstance().reserveNextScene(new d)},t.draw=function(){window.innerWidth==t.width&&window.innerHeight==t.height||(t.resizeCanvas(window.innerWidth,window.innerHeight),h.getInstance().onResized(t)),h.getInstance().update(t),h.getInstance().render(t)}}function v(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(o.default,{children:[(0,i.jsx)("title",{children:"\u30ce\u30a4\u30ba"}),(0,i.jsx)("meta",{name:"description",content:"\u30ce\u30a4\u30ba\u306b\u98f2\u307e\u308c\u308b\u30a2\u30af\u30b7\u30e7\u30f3\u30b2\u30fc\u30e0\uff01"}),(0,i.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,i.jsx)(r.Z,{sketch:p})]})}},8438:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/noiseaction",function(){return n(4200)}])},9008:function(t,e,n){t.exports=n(639)},4695:function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return i}})},266:function(t,e,n){"use strict";function i(t,e,n,i,o,r,s){try{var u=t[r](s),c=u.value}catch(h){return void n(h)}u.done?e(c):Promise.resolve(c).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var s=t.apply(e,n);function u(t){i(s,o,r,u,c,"next",t)}function c(t){i(s,o,r,u,c,"throw",t)}u(void 0)}))}}n.d(e,{Z:function(){return o}})},8216:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},5997:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,{Z:function(){return o}})},2953:function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return i}})},9083:function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}n.d(e,{Z:function(){return o}})},8847:function(t,e,n){"use strict";function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return r}});var o=n(4695);function r(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?(0,o.Z)(t):e}}},function(t){t.O(0,[774,888,179],(function(){return e=8438,t(t.s=e);var e}));var e=t.O();_N_E=e}]);