(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614,408],{6269:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/undefinedcardgame",function(){return s(4468)}])},7645:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){let s=o.default,r=(null==e?void 0:e.suspense)?{}:{loading(t){let{error:e,isLoading:s,pastDelay:i}=t;return null}};if(t instanceof Promise?r.loader=()=>t:"function"==typeof t?r.loader=t:"object"==typeof t&&(r=i({},r,t)),(r=i({},r,e)).suspense&&(delete r.ssr,delete r.loading),r.loadableGenerated&&delete(r=i({},r,r.loadableGenerated)).loadableGenerated,"boolean"==typeof r.ssr&&!r.suspense){if(!r.ssr)return delete r.ssr,l(s,r);delete r.ssr}return s(r)},e.noSSR=l;var i=s(6495).Z,r=s(2648).Z,o=(r(s(7294)),r(s(4588)));function l(t,e){return delete e.webpack,delete e.modules,t(e)}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},3644:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadableContext=void 0;var i=(0,s(2648).Z)(s(7294));let r=i.default.createContext(null);e.LoadableContext=r},4588:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(6495).Z,r=(0,s(1598).Z)(s(7294)),o=s(3644);let l=[],n=[],a=!1;function h(t){let e=t(),s={loading:!0,loaded:null,error:null};return s.promise=e.then(t=>(s.loading=!1,s.loaded=t,t)).catch(t=>{throw s.loading=!1,s.error=t,t}),s}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:t,_opts:e}=this;t.loading&&("number"==typeof e.delay&&(0===e.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},e.delay)),"number"==typeof e.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},e.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(t=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(t){this._state=i({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},t),this._callbacks.forEach(t=>t())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(t){return this._callbacks.add(t),()=>{this._callbacks.delete(t)}}constructor(t,e){this._loadFn=t,this._opts=e,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(t){return function(t,e){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},e);s.suspense&&(s.lazy=r.default.lazy(s.loader));let l=null;function h(){if(!l){let e=new u(t,s);l={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return l.promise()}if(!a){let d=s.webpack?s.webpack():s.modules;d&&n.push(t=>{for(let e of d)if(-1!==t.indexOf(e))return h()})}function c(){h();let t=r.default.useContext(o.LoadableContext);t&&Array.isArray(s.modules)&&s.modules.forEach(e=>{t(e)})}let f=s.suspense?function(t,e){return c(),r.default.createElement(s.lazy,i({},t,{ref:e}))}:function(t,e){c();let i=r.useSyncExternalStore(l.subscribe,l.getCurrentValue,l.getCurrentValue);return r.default.useImperativeHandle(e,()=>({retry:l.retry}),[]),r.default.useMemo(()=>{var e;return i.loading||i.error?r.default.createElement(s.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:l.retry}):i.loaded?r.default.createElement((e=i.loaded)&&e.__esModule?e.default:e,t):null},[t,i])};return f.preload=()=>h(),f.displayName="LoadableComponent",r.default.forwardRef(f)}(h,t)}function c(t,e){let s=[];for(;t.length;){let i=t.pop();s.push(i(e))}return Promise.all(s).then(()=>{if(t.length)return c(t,e)})}d.preloadAll=()=>new Promise((t,e)=>{c(l).then(t,e)}),d.preloadReady=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(e=>{let s=()=>(a=!0,e());c(n,t).then(s,s)})},window.__NEXT_PRELOADREADY=d.preloadReady,e.default=d},6408:function(t,e,s){"use strict";s.r(e),s(7294);var i=s(5152),r=s.n(i);e.default=r()(()=>Promise.all([s.e(6),s.e(683)]).then(s.bind(s,2683)),{loadableGenerated:{webpack:()=>[2683]},ssr:!1})},6098:function(t,e,s){"use strict";s.d(e,{Z:function(){return i}});class i{update(t){if(t.mouseIsPressed){let e=t.mouseX,s=t.mouseY;this.isInBounds(e,s)&&(this.pressed=!0)}else{if(this.pressed){let i=t.mouseX,r=t.mouseY;this.isInBounds(i,r)&&this.onClick()}this.pressed=!1}}setOnClick(t){this.onClick=t}constructor(){this.pressed=!1}}},2232:function(t,e,s){"use strict";s.d(e,{Z:function(){return i}});class i{setGeometry(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i}setStrokeColor(t){this.strokeColor=t}setFillColor(t){this.fillColor=t}setTextColor(t){this.textColor=t}setText(t){this.text=t}update(t){}draw(t){var e,s,i;let r=this.text.split("\n").map(t=>t.length).reduce((e,s)=>t.max(e,s)),o=t.min(this.width/r,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(s=this.strokeColor)&&void 0!==s?s:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(o),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.text="",this.fillColor=null,this.strokeColor=null,this.textColor=null}}},4468:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _}});var i=s(5893),r=s(9008),o=s.n(r),l=s(6408),n=s(6098);class a extends n.Z{isInBounds(t,e){return this.x<t&&t<this.x+this.width&&this.y<e&&e<this.y+this.height}setGeometry(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i}setStrokeColor(t){this.strokeColor=t}setFillColor(t){this.fillColor=t}setTextColor(t){this.textColor=t}setText(t){this.text=t}draw(t){var e,s,i;let r=this.text.split("\n").map(t=>t.length).reduce((e,s)=>t.max(e,s)),o=t.min(this.width/r,this.height);t.push(),t.fill(null!==(e=this.fillColor)&&void 0!==e?e:t.color(0)),t.stroke(null!==(s=this.strokeColor)&&void 0!==s?s:t.color(0)),t.rect(this.x,this.y,this.width,this.height),t.noStroke(),t.fill(null!==(i=this.textColor)&&void 0!==i?i:t.color(0)),t.textSize(o),t.textAlign(t.CENTER),t.text(this.text,this.x,this.y,this.width,this.height),t.pop()}constructor(...t){super(...t),this.x=0,this.y=0,this.width=0,this.height=0,this.text="",this.fillColor=null,this.strokeColor=null,this.textColor=null}}var h=s(2232);class u{requireScene(t){this.requiredScene=t}getRequiredScene(){return this.requiredScene}constructor(){this.requiredScene=null}}function d(t){let e,s,i;return t.width<t.height?(i=t.width,e=0,s=t.height/2-i/2):(i=t.height,e=t.width/2-i/2,s=0),{x:e,y:s,size:i}}class c{execute(t){}}class f{getCost(){return this.cost}getText(){return this.effects.map(t=>"・"+t.toString()+"\n").join("")}executeEffects(t){this.effects.forEach(e=>e.execute(t))}constructor(t,e){this.cost=t,this.effects=e.concat()}}function p(){return new f(Math.floor(7*Math.random()),[new class extends c{toString(){return"▽◇"}},new class extends c{toString(){return"○\xd7☆"}}])}class x{get life(){return this._life}set life(t){this._life=t}get mana(){return this._mana}set mana(t){this._mana=t}get cards(){return this._cards.concat()}set cards(t){this._cards=t,this._cards.sort((t,e)=>t.getCost()-e.getCost())}constructor(t,e){this._cards=[],this._life=t,this._mana=e}}class T extends u{scaleToWorldX(t){return t*this.c.size}scaleToWorldY(t){return t*this.c.size}convertToWorldX(t){return this.c.x+t*this.c.size}convertToWorldY(t){return this.c.y+t*this.c.size}init(t){this.c=d(t),this.titleText=new h.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.4),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255,100)),this.titleText.setText("あんのうん"),this.player1InfoText=new h.Z,this.player1InfoText.setGeometry(this.convertToWorldX(0),this.convertToWorldY(.6),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player1InfoText.setFillColor(t.color(0,0)),this.player1InfoText.setStrokeColor(t.color(255)),this.player1InfoText.setTextColor(t.color(255)),this.player2InfoText=new h.Z,this.player2InfoText.setGeometry(this.convertToWorldX(.7),this.convertToWorldY(.2),this.scaleToWorldX(.3),this.scaleToWorldY(.2)),this.player2InfoText.setFillColor(t.color(0,0)),this.player2InfoText.setStrokeColor(t.color(255)),this.player2InfoText.setTextColor(t.color(255)),this.player1=new x(20,0),this.player1.cards=this.player1.cards.concat(p(),p(),p(),p(),p()),this.player2=new x(20,0),this.player2.cards=this.player2.cards.concat(p(),p(),p(),p(),p()),this.turnPlayer=this.player1}update(t){this.titleText.update(t),this.player1InfoText.setText("Life:"+this.player1.life.toString()+"\nMana:"+this.player1.mana.toString()+"\n"),this.player1InfoText.update(t),this.player2InfoText.setText("Life:"+this.player2.life.toString()+"\nMana:"+this.player2.mana.toString()+"\n"),this.player2InfoText.update(t)}draw(t){t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.titleText.draw(t),this.player1InfoText.draw(t),this.player1.cards.forEach((e,s)=>{let i=this.scaleToWorldX(.2),r=this.convertToWorldX(.2*s),o=this.convertToWorldY(1)-i;t.push(),t.fill(255),t.square(r,o,i),t.fill(0),t.stroke(0),t.textSize(t.int(.3*i)),t.textAlign(t.LEFT),t.text(e.getCost().toString(),r,o,r+i),t.textSize(t.int(.15*i)),t.text(e.getText(),r,o+.4*i,i),t.pop()}),this.player2InfoText.draw(t),this.player2.cards.forEach((e,s)=>{let i=this.scaleToWorldX(.2),r=this.convertToWorldX(.2*s);t.push(),t.fill(255),t.square(r,0,i),t.pop()})}}class y extends u{scaleToWorldX(t){return t*this.c.size}scaleToWorldY(t){return t*this.c.size}convertToWorldX(t){return this.c.x+t*this.c.size}convertToWorldY(t){return this.c.y+t*this.c.size}init(t){this.startButton=new a,this.c=d(t),this.startButton.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.6),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.startButton.setOnClick(()=>{this.requireScene(new T)}),this.startButton.setFillColor(t.color(0)),this.startButton.setStrokeColor(t.color(255)),this.startButton.setTextColor(t.color(255)),this.startButton.setText("Start!"),this.titleText=new h.Z,this.titleText.setGeometry(this.convertToWorldX(.2),this.convertToWorldY(.1),this.scaleToWorldX(.6),this.scaleToWorldY(.2)),this.titleText.setFillColor(t.color(0)),this.titleText.setStrokeColor(t.color(0)),this.titleText.setTextColor(t.color(255)),this.titleText.setText("あんのうん")}update(t){this.startButton.update(t),this.titleText.update(t)}draw(t){t.background(128),t.push(),t.noStroke(),t.fill(0),t.square(this.c.x,this.c.y,this.c.size),t.pop(),this.startButton.draw(t),this.titleText.draw(t)}}function m(t){let e;t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight),(e=new y).init(t)},t.draw=()=>{e.update(t),e.draw(t),null!=e.getRequiredScene()&&(e=e.getRequiredScene()).init(t)}}function _(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"あんのうん"}),(0,i.jsx)("meta",{name:"description",content:"意味不明カードゲーム！"}),(0,i.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),(0,i.jsx)(l.default,{sketch:m})]})}},5152:function(t,e,s){t.exports=s(7645)},9008:function(t,e,s){t.exports=s(3121)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=6269)}),_N_E=t.O()}]);