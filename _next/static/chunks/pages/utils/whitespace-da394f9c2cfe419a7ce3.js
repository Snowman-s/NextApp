(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{4245:function(n,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rn}});var e=r(5893),a=r(5731),o=r(9008),i=r(1749),c=r(9895),u=r(7812),f=r(7294),s=r(460),d=r(5660),m=r.n(d),l=r(9863),h=r(2809),p=r(1077),v=r(8847),b=r(2953),w=r(9092),k=r(8216),y=r(5997);function x(n){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,b.Z)(n);if(t){var a=(0,b.Z)(this).constructor;r=Reflect.construct(e,arguments,a)}else r=e.apply(this,arguments);return(0,v.Z)(this,r)}}function g(n,t){var r;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"===typeof n)return C(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(n,t)}(n))||t&&n&&"number"===typeof n.length){r&&(n=r);var e=0,a=function(){};return{s:a,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){c=!0,o=n},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function C(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var S="Push",I="Dup",Z="Copy",E="Swap",A="Discard",j="Slide",N="Add",O="Subtract",F="Multiply",P="Divide",R="Modulo",_="Store",D="Retrieve",M="Label",L="Call",T="Jump",J="JumpIfZero",U="JumpIfNegative",H="Return",W="End",X="OutputCharacter",$="OutputNumber",z="ReadCharacter",V="ReadNumber",q=[S,Z,j];var B=[M,L,T,U,J];function G(n){return void 0!=B.find((function(t){return t==n}))}var K=function(){function n(){(0,k.Z)(this,n)}return(0,y.Z)(n,[{key:"parse",value:function(n,t,r,e){var a=this.lexical(n,[t,r,e]),o=a.map((function(n,t){return{error:{msg:'"'.concat(n.where,'" is invalid token'),tokenIndex:t},token:n}})).filter((function(n){return n.token.error})).map((function(n){return n.error}));if(o.length>0)return o;var i=a.map((function(n){return n.where})),c=this.transcript(i,t,r,e);return this.syntactic(c)}},{key:"lexical",value:function(n,t){var r,e=[],a="",o="",i=g(n);try{n:for(i.s();!(r=i.n()).done;){var c=r.value;if(!c.match(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g)){var u=a;a+=c;var f,s=g(t);try{for(s.s();!(f=s.n()).done;){var d=f.value;if(d==a){""!=o&&e.push({error:!0,where:o}),o="",e.push({error:!1,where:a}),a="";continue n}if(a==d.slice(0,a.length))continue n}}catch(h){s.e(h)}finally{s.f()}var m,l=g(t);try{for(l.s();!(m=l.n()).done;){if(m.value[0]==c){o+=u,a=c;continue n}}}catch(h){l.e(h)}finally{l.f()}o+=a,a=""}}}catch(h){i.e(h)}finally{i.f()}return""!=(o+=a)&&e.push({error:!0,where:o}),e}},{key:"transcript",value:function(n,t,r,e){return n.map((function(n){switch(n){case t:return"ws";case r:return"tab";case e:return"lf";default:throw new Error}}))}},{key:"syntactic",value:function(n){var t=function(){var t=n.shift();if(void 0==t)throw new Q;return t},r=[],e=[],a=[];try{for(;n.length>0;){var o=this.findIMP(t),i=void 0;switch(o){case"Stack":i=this.findStackCommand(t);break;case"Arith":i=this.findArithCommand(t);break;case"Flow":i=this.findFlowCommand(t);break;case"Heap":i=this.findHeapCommand(t);break;case"IO":i=this.findIOCommand(t);break;default:}"msg"in i?(r.push(void 0),a.push(Object.assign(i,{commandIndex:r.length-1}))):(r.push(i),"Label"==i.command&&e.push({label:i.param,commandIndex:r.length-1}))}}catch(u){if(u instanceof Q)return{error:[{msg:"Unexpected EOF",commandIndex:r.length}],out:r}}var c=[];return e.forEach((function(n,t){-1!=c.indexOf(n.label)?a.push({msg:'Label "'.concat(n,'" is already exsist.'),commandIndex:t}):c.push(n.label)})),r.forEach((function(n,t){if(void 0!=n){(function(n){return G(n.command)})(n)&&-1==e.map((function(n){return n.label})).findIndex((function(t){return t==n.param}))&&a.push({msg:'Label "'.concat(n.param,'" is not defined'),commandIndex:t})}})),a.length>0?{error:a.sort((function(n,t){return n.commandIndex-t.commandIndex})),out:r}:{commands:r,labels:e}}},{key:"findIMP",value:function(n){var t=n();if("ws"==t)return"Stack";if("tab"==t){var r=n();return"ws"==r?"Arith":"tab"==r?"Heap":"IO"}return"Flow"}},{key:"findStackCommand",value:function(n){return this.findCommandAndParam(n,[{t:["ws"],cmd:S},{t:["lf","ws"],cmd:I},{t:["tab","ws"],cmd:Z},{t:["lf","tab"],cmd:E},{t:["lf","lf"],cmd:A},{t:["tab","lf"],cmd:j}])}},{key:"findArithCommand",value:function(n){return this.findCommandAndParam(n,[{t:["ws","ws"],cmd:N},{t:["ws","tab"],cmd:O},{t:["ws","lf"],cmd:F},{t:["tab","ws"],cmd:P},{t:["tab","tab"],cmd:R}])}},{key:"findHeapCommand",value:function(n){return this.findCommandAndParam(n,[{t:["ws"],cmd:_},{t:["tab"],cmd:D}])}},{key:"findFlowCommand",value:function(n){return this.findCommandAndParam(n,[{t:["ws","ws"],cmd:M},{t:["ws","tab"],cmd:L},{t:["ws","lf"],cmd:T},{t:["tab","ws"],cmd:J},{t:["tab","tab"],cmd:U},{t:["tab","lf"],cmd:H},{t:["lf","lf"],cmd:W}])}},{key:"findIOCommand",value:function(n){return this.findCommandAndParam(n,[{t:["ws","ws"],cmd:X},{t:["ws","tab"],cmd:$},{t:["tab","ws"],cmd:z},{t:["tab","tab"],cmd:V}])}},{key:"findCommandAndParam",value:function(n,t){var r,e=this.findCommand(n,t);if(e instanceof Y)return e;if(r=e,void 0!=q.find((function(n){return n==r}))){var a=this.findNumber(n);return a instanceof Y?a:{command:e,param:a}}if(G(e)){var o=this.findLabel(n);return o instanceof Y?o:{command:e,param:o}}return{command:e}}},{key:"findCommand",value:function(n,t){var r=[];r.push(n());for(var e=function(){return t.find((function(n){var t=n.t;return void 0==r.find((function(n,r){return t[r]!=n}))}))},a=e(),o=function(){return t.find((function(n){var t=n.t;return t.length==r.length&&void 0==t.find((function(n,t){return r[t]!=n}))}))},i=o();void 0==i&&void 0!=a;)r.push(n()),a=e(),i=o();return void 0==i?nn("There are no commands match to this pattern."):i.cmd}},{key:"findNumber",value:function(n){var t=n();if("lf"==t)return nn("Unexpected end of number");var r="ws"==t?1:-1;if("lf"==(t=n()))return nn("Unexpected end of number");var e=[];for(e.push("ws"==t?0:1);"lf"!=(t=n());)e.push("ws"==t?0:1);return r*e.map((function(n,t){return n<<e.length-1-t})).reduce((function(n,t){return n+t}))}},{key:"findLabel",value:function(n){var t=n(),r="";if("lf"==t)return nn("Unexpected end of label");for(r+="ws"==t?"W":"tab"==t?"T":"L";"lf"!=(t=n());)r+="ws"==t?"W":"tab"==t?"T":"L";return r}}]),n}(),Q=function(n){(0,p.Z)(r,n);var t=x(r);function r(){return(0,k.Z)(this,r),t.call(this)}return r}((0,w.Z)(Error)),Y=function n(t){(0,k.Z)(this,n),(0,h.Z)(this,"msg",void 0),this.msg=t};function nn(n){return new Y(n)}var tn=function(){function n(){(0,k.Z)(this,n)}return(0,y.Z)(n,[{key:"exec",value:function(n,t){var r,e=n.commands,a=n.labels,o=0,i=[],c=function(n){m(n),i.push(n)},u=function(){if(0==i.length)throw new Error("Attempt to pop from empty stack");return i.pop()},f=function(n){if(i.length<=n)throw new Error("Index ".concat(n," element is not exsist on stack"));return i[n]},s=function(n){if(i.length<=n)throw new Error("Index ".concat(n," element is not exsist on stack"));return i.splice(n,1)},d=new Map,m=function(n){if(!Number.isSafeInteger(n))throw new Error("Integer overflowed")},l=function(n,t){return d.set(n,t)},h=[],p=function(){if(0==h.length)throw new Error("Attempt to end a subroutine in non-subrotine");return h.pop()};try{for(;e.length>o;){var v=e[o];switch(console.log(v.command),v.command){case"Push":c(v.param),o++;break;case"Dup":var b=u();c(b),c(b),o++;break;case"Copy":c(f(v.param)),o++;break;case"Swap":var w=u(),k=u();c(w),c(k),o++;break;case"Discard":u(),o++;break;case"Slide":s(v.param),o++;break;case"Add":c(u()+u()),o++;break;case"Subtract":var y=u();c(u()-y),o++;break;case"Multiply":c(u()*u()),o++;break;case"Divide":var x=u(),g=u();c(Math.trunc(g/x)),o++;break;case"Modulo":var C=u();c(u()%C),o++;break;case"Store":var S=u();l(u(),S),o++;break;case"Retrieve":var I=u();c((m(r=I),d.has(r)?d[r]:0)),o++;break;case"Label":o++;break;case"Call":!function(){var n;n=o+1,h.push(n);var t=v.param,r=a.find((function(n){return n.label==t})).commandIndex;if(void 0==r)throw new Error("Cannot find label ".concat(t));o=r}();break;case"Jump":!function(){var n=v.param,t=a.find((function(t){return t.label==n})).commandIndex;if(void 0==t)throw new Error("Cannot find label ".concat(n));o=t}();break;case"JumpIfZero":0==u()?function(){var n=v.param,t=a.find((function(t){return t.label==n})).commandIndex;if(void 0==t)throw new Error("Cannot find label ".concat(n));o=t}():o++;break;case"JumpIfNegative":u()<0?function(){var n=v.param,t=a.find((function(t){return t.label==n})).commandIndex;if(void 0==t)throw new Error("Cannot find label ".concat(n));o=t}():o++;break;case"Return":o=p();break;case"End":return;case"OutputCharacter":t(String.fromCodePoint(u())),o++;break;case"OutputNumber":t(u().toString()),o++;break;case"ReadCharacter":case"ReadNumber":o++;break;default:}}}catch(Z){Z instanceof Error&&t("Error at index".concat(o," command: ").concat(Z.message))}}}]),n}();function rn(){var n=f.useState("\u30ab\u30e9\u30c7\u30b7\u30e5!\n\u3059\u3054\u3044!\n\u672c\u5f53\u306b\u3059\u3054\u3044\u3093\u3060!"),t=(0,a.Z)(n,2),r=t[0],d=t[1],h=f.useState(),p=(0,a.Z)(h,2),v=p[0],b=p[1],w=f.useState(),k=(0,a.Z)(w,2),y=k[0],x=k[1],g=f.useState(),C=(0,a.Z)(g,2),S=C[0],I=C[1];m().languages.whitespace={ws:/\u3059\u3054\u3044\!/,tab:/\u30ab\u30e9\u30c7\u30b7\u30e5\!/,lf:/\u672c\u5f53\u306b\u3059\u3054\u3044\u3093\u3060\!/};return(0,e.jsxs)("div",{children:[(0,e.jsxs)(o.default,{children:[(0,e.jsx)("title",{children:"\u308f\u3044\u3068 \u3059\u307a\u30fc\u3059 \u3048\u3050\u305c\u304d\u3085\u30fc\u305f\u30fc"}),(0,e.jsx)("meta",{name:"description",content:"WhiteSpace\u3059\u3054\u3044!\u672c\u5f53\u306b\u3059\u3054\u3044\u3093\u3060!"}),(0,e.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"}),(0,e.jsx)("style",{children:"\n      .token.ws {\n        color: cornflowerblue;\n      }\n      .token.tab {\n        color: #DD4A68;\n      }\n      .token.lf {\n        color: coral;\n      }\n    "})]}),(0,e.jsxs)(i.Z,{container:!0,children:[(0,e.jsx)(i.Z,{item:!0,children:(0,e.jsx)(c.Z,{children:(0,e.jsx)(s.Z,{value:r,onValueChange:function(n){return d(n)},highlight:function(n){return m().highlight(n,m().languages.whitespace,"whitespace")},padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:12,fontWeight:"bold"}})})}),(0,e.jsx)(i.Z,{item:!0,children:(0,e.jsx)(u.Z,{onClick:function(){var n=(new K).parse(r,"\u3059\u3054\u3044!","\u30ab\u30e9\u30c7\u30b7\u30e5!","\u672c\u5f53\u306b\u3059\u3054\u3044\u3093\u3060!");b(n),x(void 0==n?"":function(n){if("commands"in n)return n.commands.map((function(n){return"  ".concat(n.command," ").concat("param"in n?n.param.toString():"","\n")})).reduce((function(n,t){return n+t}),"");if("error"in n){var t=n.error.map((function(n){return"Syntax Error: ".concat(n.msg," Command Index=").concat(n.commandIndex,"\n")})).reduce((function(n,t){return n+t}),"");return n.out.length>0&&(t+="\n\u30fbCommands to refer\n",t+=n.out.map((function(n,t){return t.toString()+": "+(void 0==n?"???\n":"".concat(n.command," ").concat("param"in n?n.param.toString():"","\n"))})).reduce((function(n,t){return n+t}),"")),t}return n.map((function(n){return"Syntax Error:".concat(n.msg," Token Index=").concat(n.tokenIndex,"\n")})).reduce((function(n,t){return n+t}),"")}(n))},children:(0,e.jsx)(l.Z,{})})}),(0,e.jsx)(i.Z,{item:!0,children:(0,e.jsx)(c.Z,{style:{whiteSpace:"pre"},children:y})}),(0,e.jsx)(i.Z,{item:!0,children:(0,e.jsx)(u.Z,{onClick:function(){if(void 0!=v&&!Array.isArray(v)&&!("error"in v)){var n=new tn,t="";n.exec(v,(function(n){return t+=n})),I(t)}},children:(0,e.jsx)(l.Z,{})})}),(0,e.jsx)(i.Z,{item:!0,children:(0,e.jsx)(c.Z,{style:{whiteSpace:"pre"},children:S})})]})]})}},9423:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/utils/whitespace",function(){return r(4245)}])}},function(n){n.O(0,[258,375,774,888,179],(function(){return t=9423,n(n.s=t);var t}));var t=n.O();_N_E=t}]);