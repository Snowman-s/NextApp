(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1974:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(5893),o=n(809),u=n.n(o),i=n(266),s=n(8216),c=n(5997),a=n(4695),f=n(9083),l=n(8847),p=n(2953),h=n(2809),d=n(7294);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,p.Z)(t);if(e){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var v=function(t){(0,f.Z)(o,t);var e=y(o);function o(t){var n;return(0,s.Z)(this,o),n=e.call(this,t),(0,h.Z)((0,a.Z)(n),"myRef",void 0),(0,h.Z)((0,a.Z)(n),"canvasRef",void 0),n.myRef=d.createRef(),n.canvasRef=d.createRef(),n}return(0,c.Z)(o,[{key:"componentDidMount",value:function(){var t=(0,i.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(6).then(n.t.bind(n,4035,23));case 2:e=t.sent,r=new e.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:r});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=(0,i.Z)(u().mark((function t(e){var r,o,i,s,c,a,f,l,p,h,d,y;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.sketch===this.props.sketch){t.next=7;break}return this.state.p5obj.remove(),t.next=4,n.e(6).then(n.t.bind(n,4035,23));case 4:i=t.sent,s=new i.default(this.props.sketch,this.canvasRef.current),this.setState({p5obj:s});case 7:this.props.saveRequire&&(null===(c=(a=this.state.p5obj).onSave)||void 0===c||c.call(a),null===(f=(l=this.props).onSaveEnd)||void 0===f||f.call(l)),this.props.restartRequire&&(null===(p=(h=this.state.p5obj).onRestart)||void 0===p||p.call(h),null===(d=(y=this.props).onRestartEnd)||void 0===d||d.call(y)),null===(r=(o=this.state.p5obj).onPropsUpdate)||void 0===r||r.call(o,this.props);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return(0,r.jsxs)("div",{ref:this.myRef,style:{position:"relative"},children:[(0,r.jsx)("div",{ref:this.canvasRef,style:{position:"absolute",zIndex:-1}}),this.props.children]})}}]),o}(d.Component)},793:function(t,e,n){"use strict";function r(t){!function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r={x:0,y:0},o=5,u=9,i=!1,s=-1,c=-1,a=60*n,f=60*n,l=!1,p=400;function h(){t.bullets=[],r={x:200,y:500},t.frameCount=0,e={u:!1,d:!1,l:!1,r:!1,z:!1,capture:void 0!=e&&e.capture,e:!1},i=!1,s=-1,l=!1,f=a}function d(){c>-1&&c--,-1==c&&e.z&&(l=!0,c=60)}function y(){return c>50}function v(){var n={x:0,y:0};e.u&&(n.y-=1),e.l&&(n.x-=1),e.r&&(n.x+=1),e.d&&(n.y+=1),0!=n.x&&0!=n.y&&(n.x/=t.sqrt(2),n.y/=t.sqrt(2));var i=o*(y()?2:1);n.x*=i,n.y*=i,r.x+=n.x,r.y+=n.y,r.x=t.max(r.x,u/2),r.y=t.max(r.y,u/2),r.x=t.min(r.x,p-u/2),r.y=t.min(r.y,t.height-u/2)}function b(){t.bullets.forEach((function(t){t.x+=t.speedX,t.y+=t.speedY}))}function x(){i||(t.push(),t.noStroke(),y()?t.fill(255,255,0):t.fill(0,255,255),t.square(r.x,r.y,u),t.pop())}function R(){t.push(),t.bullets.forEach((function(e){t.noStroke(),t.square(e.x,e.y,e.size)})),t.pop()}function k(){t.push(),t.fill(255),t.textSize(50);var e=t.max(t.int(f/60),0);t.text(t.str(e),p-80,50),t.pop()}function m(){y()||t.bullets.forEach((function(e){2*t.dist(r.x,r.y,e.x,e.y)<u+e.size&&(i=!0,s=0)}))}function w(){t.bullets=t.bullets.filter((function(e){return-100<e.x&&e.x<p+100&&-100<e.y&&e.y<t.height+100}))}function _(){s++,t.background(0,s/50*255),i||(t.push(),t.textSize(50),t.fill(255),t.text((l?"":"\u2606")+"Clear!",0,t.height/2),t.pop()),s>=70&&(i?h():(t.push(),t.textSize(30),t.fill(255),t.text("Press Enter Key to restart.",0,t.height/2+30),t.pop(),e.e&&h()))}function O(){t.push(),t.rectMode(t.CORNER),t.stroke(255),t.fill(0),t.rect(p,0,t.width-p,t.height),t.fill(255),t.textSize(30),t.text("How To Play",p,30),t.textSize(15),t.text("\u2191\u2193\u2192\u2190 : Move",p,60),t.text("z : Dash",p,90),t.text("Ctl : Capture Game Screen",p,120),t.pop()}function Z(){return i||-1==f}t.bullets=[],t.setup=function(){t.createCanvas(600,600),t.rectMode(t.CENTER),h()},t.draw=function(){t.background(0),Z()||t.shoot(),d(),v(),b(),m(),w(),f>=0&&f--,-1==f&&(t.bullets=[]),x(),R(),k(),Z()&&_(),O(),e.capture&&(t.save("screen-shot.jpg"),e.capture=!1)},t.remainSeconds=function(){return t.int(f/60)},t.shoot=function(){if(t.frameCount%30==0)for(var e=0;e<t.TAU;e+=t.PI/5)t.bullets.push({x:200,y:200,speedX:9*t.cos(e),speedY:9*t.sin(e),size:10})},t.keyPressed=function(){switch(t.keyCode){case t.UP_ARROW:e.u=!0;break;case t.DOWN_ARROW:e.d=!0;break;case t.LEFT_ARROW:e.l=!0;break;case t.RIGHT_ARROW:e.r=!0;break;case t.ENTER:e.e=!0;break;case t.CONTROL:e.capture=!0}switch(t.key){case"z":e.z=!0}},t.keyReleased=function(){switch(t.keyCode){case t.UP_ARROW:e.u=!1;break;case t.DOWN_ARROW:e.d=!1;break;case t.LEFT_ARROW:e.l=!1;break;case t.RIGHT_ARROW:e.r=!1;break;case t.ENTER:e.e=!1;break;case t.CONTROL:e.capture=!1}switch(t.key){case"z":e.z=!1}},t.nWay=function(e,n,r,o,u,i,s){for(var c,a=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],f=[],l=0;l<u;l++){var p=i+s*(l-(u-1)/2);f.push({x:e,y:n,size:r,speedX:o*t.cos(p),speedY:o*t.sin(p)})}return a&&(c=t.bullets).push.apply(c,f),f},t.allWay=function(e,n,r,o,u,i){for(var s,c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=[],f=0;f<u;f++){var l=i+f*(t.TAU/u);a.push({x:e,y:n,size:r,speedX:o*t.cos(l),speedY:o*t.sin(l)})}return c&&(s=t.bullets).push.apply(s,a),a},t.freq=function(e,n){t.frameCount%e==0&&n()}}(t,15),t.shoot=function(){var e=t.frameCount;t.allWay(200,200,10,10,10,t.sin(e/60)/2),t.remainSeconds()<10&&t.freq(3,(function(){return t.nWay(200,200,8,5,10,e/5,.03)}))}}function o(){var t=new Map;return t.set("a",r),t}n.d(e,{Z:function(){return o}})},3563:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return c},default:function(){return a}});var r=n(5893),o=n(4651),u=n(9008),i=n(1974),s=n(793),c=!0;function a(){var t=(0,o.useRouter)().query.work;"string"!==typeof t&&"undefined"!=typeof t&&(t=t[0]);var e=(0,s.Z)().get(t);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(u.default,{children:[(0,r.jsx)("title",{children:"\u5f3e\u5e55\u30da\u30fc\u30b8"}),(0,r.jsx)("meta",{name:"description",content:"\u5f3e\u5e55"}),(0,r.jsx)("link",{rel:"icon",href:"/NextApp/favicon.ico"})]}),void 0==e?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(i.Z,{sketch:e})]})}},1883:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/bullet-hell/[work]",function(){return n(3563)}])},9008:function(t,e,n){t.exports=n(639)},4695:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},266:function(t,e,n){"use strict";function r(t,e,n,r,o,u,i){try{var s=t[u](i),c=s.value}catch(a){return void n(a)}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,u){var i=t.apply(e,n);function s(t){r(i,o,u,s,c,"next",t)}function c(t){r(i,o,u,s,c,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return o}})},8216:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},5997:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return o}})},2953:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return r}})},9083:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,{Z:function(){return o}})},8847:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return u}});var o=n(4695);function u(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?(0,o.Z)(t):e}}},function(t){t.O(0,[774,888,179],(function(){return e=1883,t(t.s=e);var e}));var e=t.O();_N_E=e}]);